<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>32 Free Online Tools - Calculator, Converter, Generator & More</title>
    <meta name="title" content="29 Free Online Tools - Calculator, Converter, Generator & More">
    <meta name="description" content="Free online tools: word counter, calculator, converter, password generator, BMI calculator, favicon generator, JSON formatter, and 25+ more tools. Fast, simple, always free. No signup required.">
    <meta name="keywords" content="free tools, online calculator, converter, word counter, password generator, BMI calculator, JSON formatter, calorie calculator, mortgage calculator, image resizer, currency converter, tax calculator, grade calculator">
    <meta name="author" content="Free Online Tools">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    
    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="googlef10e7bd450c6186b" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://tooldexo.com/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    
    <!-- Sitemap -->
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tooldexo.com/">
    <meta property="og:title" content="28 Free Online Tools - Calculator, Converter, Generator & More">
    <meta property="og:description" content="Professional online tools for everyday tasks. Word counter, BMI calculator, mortgage calculator, currency converter and 24+ more tools. 100% free, no signup required.">
    <meta property="og:image" content="https://tooldexo.com/og-image.png">
    <meta property="og:site_name" content="Free Online Tools">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://tooldexo.com/">
    <meta name="twitter:title" content="28 Free Online Tools - Calculator, Converter, Generator & More">
    <meta name="twitter:description" content="Professional online tools for everyday tasks. Word counter, BMI calculator, mortgage calculator, and 25+ more. 100% free, no signup required.">
    <meta name="twitter:image" content="https://tooldexo.com/twitter-card.png">
    
    <!-- Additional SEO -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    
    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Free Online Tools",
      "url": "https://tooldexo.com",
      "description": "Collection of 28 free online tools including calculators, converters, generators, and text utilities. No signup required.",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "2547",
        "bestRating": "5",
        "worstRating": "1"
      },
      "featureList": [
        "Word Counter",
        "BMI Calculator",
        "Calorie Calculator",
        "Mortgage Calculator",
        "Currency Converter",
        "Password Generator",
        "Image Resizer",
        "Grade Calculator",
        "Tax Calculator",
        "Date Calculator",
        "JSON Formatter",
        "Base64 Encoder",
        "QR Code Generator",
        "Unit Converter",
        "Random Number Generator",
        "File Size Converter",
        "Character Counter",
        "Compound Interest Calculator",
        "Tip Calculator",
        "Loan Calculator",
        "Time Zone Converter",
        "Markdown Editor",
        "Text Compare Tool",
        "Lorem Ipsum Generator",
        "Case Converter",
        "Percentage Calculator",
        "Age Calculator",
        "Color Picker"
      ]
    }
    </script>
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Free Online Tools",
      "url": "https://tooldexo.com",
      "logo": "https://tooldexo.com/logo.png",
      "sameAs": [
        "https://twitter.com/yourhandle",
        "https://facebook.com/yourpage"
      ]
    }
    </script>
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://tooldexo.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Tools",
          "item": "https://tooldexo.com#tools"
        }
      ]
    }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            overflow-x: hidden;
            max-width: 100vw;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f7fafc;
            color: #2d3748;
            line-height: 1.6;
            overflow-x: hidden;
            max-width: 100vw;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.2em;
            opacity: 0.95;
        }
        
        .tool-count {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 20px;
            margin-top: 10px;
            font-weight: 600;
        }
        
        /* Ad Placeholder Styles */
        .ad-space {
            background: #e2e8f0;
            border: 2px dashed #cbd5e0;
            padding: 20px;
            text-align: center;
            color: #718096;
            font-size: 14px;
            margin: 20px auto;
            border-radius: 8px;
            max-width: 1200px;
        }
        
        .ad-space-top {
            min-height: 100px;
        }
        
        .ad-space-sidebar {
            min-height: 250px;
            margin: 20px 0;
        }
        
        .ad-space-between {
            min-height: 90px;
            margin: 40px auto;
        }
        
        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 30px;
            width: 100%;
            box-sizing: border-box;
        }
        
        .main-content {
            min-width: 0;
            max-width: 100%;
            overflow-x: hidden;
        }
        
        .sidebar {
            position: sticky;
            top: 20px;
            height: fit-content;
        }
        
        /* Tool Navigation */
        .tool-nav {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .tool-categories {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .category-btn {
            padding: 8px 16px;
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            color: #4a5568;
            transition: all 0.3s ease;
        }
        
        .category-btn:hover, .category-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }
        
        .tool-nav-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 10px;
        }
        
        .tool-nav button {
            padding: 12px 16px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #4a5568;
            transition: all 0.3s ease;
            text-align: left;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .tool-nav button:hover {
            background: #f7fafc;
            border-color: #667eea;
            color: #667eea;
            transform: translateX(5px);
        }
        
        .tool-nav button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }
        
        /* Hidden class for filtering tools */
        .tool-nav button.hidden {
            display: none !important;
        }
        
        /* Tool Cards */
        .tool-card {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: none;
        }
        
        .tool-card.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tool-card h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .tool-icon {
            font-size: 1.2em;
        }
        
        /* Form Elements */
        textarea, input[type="text"], input[type="number"], input[type="date"], select {
            width: 100%;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            font-family: inherit;
            transition: border-color 0.3s ease;
            margin-bottom: 15px;
        }
        
        textarea {
            min-height: 200px;
            resize: vertical;
            font-family: 'Courier New', monospace;
        }
        
        textarea:focus, input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        button.primary-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        button.primary-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        button.secondary-btn {
            background: white;
            color: #667eea;
            padding: 15px 40px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-left: 10px;
        }
        
        button.secondary-btn:hover {
            background: #667eea;
            color: white;
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }
        
        .stat-label {
            font-size: 0.85em;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        /* Result Box */
        .result-box {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .result-box.success {
            background: #f0fdf4;
            border-color: #86efac;
        }
        
        .result-box.info {
            background: #eff6ff;
            border-color: #93c5fd;
        }
        
        .result-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
            margin: 10px 0;
        }
        
        /* Input Group */
        .input-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a5568;
        }
        
        /* Converter Grid */
        .converter-grid {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: end;
            margin: 20px 0;
        }
        
        .converter-arrow {
            font-size: 2em;
            color: #667eea;
            padding-bottom: 15px;
        }
        
        /* Password Options */
        .password-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 10px;
            background: #f7fafc;
            border-radius: 8px;
            transition: background 0.2s ease;
        }
        
        .checkbox-label:hover {
            background: #e2e8f0;
        }
        
        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        input[type="range"] {
            width: 100%;
            height: 8px;
            cursor: pointer;
        }
        
        /* QR Code Container */
        .qr-container {
            text-align: center;
            margin: 20px 0;
        }
        
        #qrcode {
            display: inline-block;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        /* Color Picker */
        .color-display {
            width: 100%;
            height: 100px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid #e2e8f0;
        }
        
        .color-codes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .color-code-box {
            background: #f7fafc;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .color-code-label {
            font-size: 0.9em;
            color: #718096;
            margin-bottom: 5px;
        }
        
        .color-code-value {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            color: #2d3748;
        }
        
        /* BMI Result */
        .bmi-category {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 600;
            margin-top: 10px;
        }
        
        .bmi-underweight { background: #dbeafe; color: #1e40af; }
        .bmi-normal { background: #d1fae5; color: #065f46; }
        .bmi-overweight { background: #fed7aa; color: #92400e; }
        .bmi-obese { background: #fecaca; color: #991b1b; }
        
        /* Countdown Timer */
        .countdown-display {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 30px 0;
        }
        
        .countdown-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
        }
        
        .countdown-number {
            font-size: 3em;
            font-weight: bold;
            display: block;
        }
        
        .countdown-label {
            font-size: 0.9em;
            opacity: 0.9;
            text-transform: uppercase;
        }
        
        /* Footer */
        footer {
            background: #2d3748;
            color: white;
            text-align: center;
            padding: 30px 20px;
            margin-top: 60px;
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none; /* Hide sidebar on mobile */
            }
            
            .converter-grid {
                grid-template-columns: 1fr;
            }
            
            .converter-arrow {
                transform: rotate(90deg);
                padding: 0;
                text-align: center;
            }
            
            .input-group {
                grid-template-columns: 1fr;
            }
            
            .countdown-display {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }
            
            .tool-card {
                padding: 20px;
                margin-left: 0;
                margin-right: 0;
                width: 100%;
                max-width: 100%;
                overflow-x: hidden;
            }
            
            /* Ensure all inputs fit on mobile */
            textarea, input[type="text"], input[type="number"], input[type="date"], select {
                width: 100%;
                max-width: 100%;
                box-sizing: border-box;
            }
            
            /* Ensure buttons don't overflow */
            button {
                max-width: 100%;
                box-sizing: border-box;
            }
            
            /* Stats grid mobile */
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            /* Tool nav buttons mobile */
            .tool-nav-buttons {
                grid-template-columns: 1fr;
            }
            
            /* Container single column on mobile */
            .container {
                grid-template-columns: 1fr;
                padding: 10px;
                gap: 15px;
                width: 100%;
                max-width: 100vw;
            }
            
            .main-content {
                padding: 0;
                width: 100%;
            }
            
            /* MOBILE HEADER OPTIMIZATION */
            header {
                padding: 15px 20px 15px 60px; /* Compact padding, space for hamburger */
                position: sticky;
                top: 0;
                z-index: 1000;
            }
            
            header h1 {
                font-size: 1.3em;
                margin-bottom: 5px;
                margin-top: 0;
            }
            
            header p {
                font-size: 0.85em;
                margin: 5px 0;
                opacity: 0.9;
            }
            
            .tool-count {
                font-size: 0.85em;
                padding: 5px 12px;
                margin-top: 5px;
            }
            
            /* Hide "Buy Me a Coffee" on mobile to save space */
            header a[href*="buymeacoffee"] {
                display: none;
            }
            
            /* Make sure tool navigation is visible */
            .tool-nav {
                display: block !important;
                margin-top: 0;
            }
            
            /* Tool buttons must be visible */
            .tool-nav-buttons {
                display: grid !important;
                visibility: visible !important;
            }
        }
        
        /* Buy Me a Coffee Button Hover Effects */
        header a[href*="buymeacoffee"]:hover,
        .sidebar a[href*="buymeacoffee"]:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4) !important;
        }
        
        /* Try It Button */
        .try-it-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-left: 10px;
            white-space: nowrap;
        }
        
        @media (max-width: 768px) {
            .try-it-btn {
                margin-left: 0;
                margin-top: 10px;
                display: block;
                width: 100%;
                max-width: 200px;
            }
        }
        
        .try-it-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(245, 87, 108, 0.4);
        }
        
        /* Search Bar */
        .search-container {
            margin-bottom: 20px;
            position: relative;
        }
        
        .search-bar {
            width: 100%;
            padding: 14px 45px 14px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s;
            background: white;
        }
        
        .search-bar:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #a0aec0;
            font-size: 20px;
            pointer-events: none;
        }
        
        /* Autocomplete Dropdown */
        .autocomplete-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #667eea;
            border-top: none;
            border-radius: 0 0 12px 12px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }
        
        .autocomplete-item {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background 0.2s;
        }
        
        .autocomplete-item:last-child {
            border-bottom: none;
        }
        
        .autocomplete-item:hover {
            background: #f7fafc;
        }
        
        .autocomplete-item .tool-name {
            font-weight: 600;
            color: #2d3748;
        }
        
        .autocomplete-item .tool-category {
            font-size: 12px;
            color: #667eea;
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 10px;
        }
        
        .autocomplete-no-results {
            padding: 20px;
            text-align: center;
            color: #a0aec0;
        }
        
        /* Favorites Star */
        .favorite-star {
            display: inline-block;
            cursor: pointer;
            font-size: 20px;
            margin-left: 10px;
            transition: transform 0.2s;
            user-select: none;
        }
        
        .favorite-star:hover {
            transform: scale(1.2);
        }
        
        .favorite-star.favorited {
            color: #fbbf24;
        }
        
        /* History Sidebar */
        .history-panel {
            position: fixed;
            right: -350px;
            top: 0;
            width: 350px;
            height: 100vh;
            background: white;
            box-shadow: -4px 0 15px rgba(0,0,0,0.1);
            transition: right 0.3s;
            z-index: 1000;
            overflow-y: auto;
        }
        
        .history-panel.open {
            right: 0;
        }
        
        .history-header {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .history-item {
            padding: 15px 20px;
            border-bottom: 1px solid #e2e8f0;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .history-item:hover {
            background: #f7fafc;
        }
        
        .history-tool-name {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 5px;
        }
        
        .history-result {
            color: #4a5568;
            font-size: 14px;
        }
        
        .history-time {
            color: #a0aec0;
            font-size: 12px;
            margin-top: 5px;
        }
        
        /* History Toggle Button */
        .history-toggle {
            position: fixed;
            right: 20px;
            top: 100px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 18px;
            border-radius: 8px 0 0 8px;
            cursor: pointer;
            font-weight: 600;
            z-index: 999;
            box-shadow: -2px 2px 10px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }
        
        .history-toggle:hover {
            transform: translateX(-5px);
        }
        
        /* Copy Button */
        .copy-btn {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 8px 16px;
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #4a5568;
            transition: all 0.2s;
            margin-left: 10px;
        }
        
        .copy-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .copy-btn.copied {
            background: #48bb78;
            color: white;
            border-color: #48bb78;
        }
        
        /* Share Button */
        .share-btn {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 8px 16px;
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #4a5568;
            transition: all 0.2s;
            margin-left: 5px;
        }
        
        .share-btn:hover {
            background: #764ba2;
            color: white;
            border-color: #764ba2;
        }
        
        /* Related Tools Section */
        .related-tools {
            margin-top: 30px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
            border-radius: 12px;
            border: 2px solid rgba(102, 126, 234, 0.1);
        }
        
        .related-tools h3 {
            margin: 0 0 15px 0;
            color: #2d3748;
            font-size: 18px;
        }
        
        .related-tool-btn {
            display: inline-block;
            padding: 10px 18px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            margin-right: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            font-weight: 600;
            color: #4a5568;
            transition: all 0.3s;
            text-decoration: none;
        }
        
        .related-tool-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
            transform: translateY(-2px);
        }
        
        /* Educational Tooltip */
        .edu-section {
            margin-top: 20px;
            padding: 15px;
            background: #f7fafc;
            border-left: 4px solid #667eea;
            border-radius: 6px;
            font-size: 14px;
            color: #4a5568;
            line-height: 1.6;
        }
        
        .edu-section strong {
            color: #667eea;
            display: block;
            margin-bottom: 8px;
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #2d3748;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 9999;
            transition: transform 0.3s;
            font-weight: 600;
        }
        
        .toast.show {
            transform: translateX(-50%) translateY(0);
        }
        
        /* Favorites Section */
        .favorites-section {
            margin-bottom: 25px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1) 0%, rgba(245, 158, 11, 0.1) 100%);
            border-radius: 12px;
            border: 2px solid rgba(251, 191, 36, 0.2);
        }
        
        .favorites-section h3 {
            margin: 0 0 15px 0;
            color: #2d3748;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .favorites-empty {
            color: #718096;
            font-size: 14px;
            font-style: italic;
        }
        
        /* Mobile Improvements */
        @media (max-width: 768px) {
            .history-panel {
                width: 100%;
                right: -100%;
            }
            
            .history-toggle {
                display: none; /* Hidden on mobile - use bottom bar instead */
            }
            
            .copy-btn, .share-btn {
                padding: 6px 12px;
                font-size: 12px;
            }
            
            .related-tool-btn {
                padding: 8px 14px;
                font-size: 13px;
            }
        }
        
        /* ========================================
           MOBILE UX ENHANCEMENTS
           ======================================== */
        
        /* Back Button */
        .mobile-back-btn {
            display: none;
            position: fixed;
            top: 12px;
            left: 12px;
            z-index: 1100;
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
        }
        
        .mobile-back-btn:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
        }
        
        .mobile-back-btn:active {
            transform: translateY(0);
        }
        
        /* Sticky Header on Mobile */
        @media (max-width: 768px) {
            /* Show back button when viewing a tool */
            body.viewing-tool .mobile-back-btn {
                display: block;
            }
            
            /* Hide hamburger when viewing tool (back button shows instead) */
            body.viewing-tool .mobile-menu-btn {
                display: none;
            }
        }
        
        /* Mobile Navigation Menu */
        .mobile-nav-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1500;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .mobile-nav-overlay.active {
            display: block;
            opacity: 1;
        }
        
        .mobile-nav-menu {
            position: fixed;
            left: -300px;
            top: 0;
            width: 280px;
            height: 100%;
            background: white;
            z-index: 1600;
            transition: left 0.3s ease;
            box-shadow: 2px 0 12px rgba(0,0,0,0.15);
            overflow-y: auto;
        }
        
        .mobile-nav-menu.active {
            left: 0;
        }
        
        .mobile-nav-header {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .mobile-nav-header h3 {
            margin: 0;
            font-size: 18px;
        }
        
        .mobile-nav-close {
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .mobile-nav-content {
            padding: 10px 0;
        }
        
        .mobile-nav-item {
            padding: 15px 20px;
            border-bottom: 1px solid #e2e8f0;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .mobile-nav-item:hover {
            background: #f7fafc;
        }
        
        .mobile-nav-item.active {
            background: #edf2f7;
            border-left: 4px solid #667eea;
        }
        
        /* Hamburger Menu Button */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 12px;
            left: 12px;
            z-index: 1100;
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }
        
        .mobile-menu-btn span {
            display: block;
            width: 22px;
            height: 2px;
            background: #667eea;
            margin: 4px 0;
            transition: all 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
            
            .tool-categories {
                display: none;
            }
        }
        
        /* Bottom Action Bar */
        .mobile-bottom-bar {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            border-top: 1px solid #e2e8f0;
            padding: 10px 5px;
            z-index: 998;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        
        .mobile-bottom-bar-content {
            display: flex;
            justify-content: space-around;
            align-items: center;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .bottom-bar-btn {
            background: none;
            border: none;
            color: #4a5568;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 5px 10px;
            transition: all 0.2s;
        }
        
        .bottom-bar-btn:active {
            background: #f7fafc;
            border-radius: 8px;
        }
        
        .bottom-bar-btn .icon {
            font-size: 20px;
        }
        
        .bottom-bar-btn.active {
            color: #667eea;
        }
        
        @media (max-width: 768px) {
            .mobile-bottom-bar {
                display: block;
            }
            
            body {
                padding-bottom: 70px;
            }
        }
        
        /* Floating Action Button */
        .mobile-fab {
            display: none;
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            z-index: 997;
        }
        
        .mobile-fab:active {
            transform: scale(0.95);
        }
        
        @media (max-width: 768px) {
            .mobile-fab {
                display: flex;
                align-items: center;
                justify-content: center;
            }
        }
        
        /* Touch-Optimized Buttons */
        @media (max-width: 768px) {
            .tool-nav-buttons button,
            .primary-btn,
            .category-btn {
                min-height: 44px;
                padding: 12px 20px;
                font-size: 15px;
            }
            
            .favorite-star {
                font-size: 24px;
                padding: 8px;
            }
            
            input, textarea, select {
                font-size: 16px;
                min-height: 44px;
                padding: 12px;
            }
        }
        
        /* Swipe Indicator */
        .swipe-indicator {
            display: none;
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1001;
            background: rgba(102, 126, 234, 0.9);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            font-size: 16px;
            pointer-events: none;
            animation: slideIn 0.3s ease;
        }
        
        .swipe-indicator.left {
            left: 20px;
        }
        
        .swipe-indicator.right {
            right: 20px;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-50%) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateY(-50%) scale(1);
            }
        }
        
        /* Smooth Page Transitions */
        .tool-card {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        
        .tool-card:not(.active) {
            opacity: 0;
            transform: translateY(20px);
            pointer-events: none;
        }
        
        .tool-card.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Mobile Search Enhancement */
        @media (max-width: 768px) {
            .search-container {
                margin: 15px 15px 20px;
            }
            
            #toolSearch {
                font-size: 16px;
                padding: 14px 20px;
            }
        }
        
        /* Pull to Refresh Indicator */
        .pull-refresh-indicator {
            display: none;
            position: fixed;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 10px 20px;
            border-radius: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            z-index: 1001;
            font-size: 14px;
            color: #667eea;
        }
        
        .pull-refresh-indicator.active {
            display: block;
        }
    </style>
    
    <!-- Google Analytics -->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FBKB262VDK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-FBKB262VDK');
    </script>
    
    <!-- Google AdSense -->
    <!-- PASTE YOUR ADSENSE CODE HERE AFTER APPROVAL -->
    <!-- Get from: https://adsense.google.com -->
    <!-- Example:
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
         crossorigin="anonymous"></script>
    -->
</head>
<body>
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
    </button>
    
    <!-- Mobile Back Button -->
    <button class="mobile-back-btn" onclick="mobileBackToHome()">
        ‚Üê Back to Tools
    </button>
    
    <!-- Mobile Navigation Overlay -->
    <div class="mobile-nav-overlay" onclick="toggleMobileMenu()"></div>
    
    <!-- Mobile Navigation Menu -->
    <div class="mobile-nav-menu">
        <div class="mobile-nav-header">
            <h3>üõ†Ô∏è Categories</h3>
            <button class="mobile-nav-close" onclick="toggleMobileMenu()">√ó</button>
        </div>
        <div class="mobile-nav-content">
            <div class="mobile-nav-item active" onclick="console.log('üîò ALL clicked!'); filterToolsMobile('all', this)">
                <span>üìã All Tools</span>
                <span style="color: #667eea; font-weight: 600;">32</span>
            </div>
            <div class="mobile-nav-item" onclick="console.log('üîò TEXT clicked!'); filterToolsMobile('text', this)">
                <span>üìù Text Tools</span>
                <span style="color: #667eea; font-weight: 600;">5</span>
            </div>
            <div class="mobile-nav-item" onclick="console.log('üîò CALC clicked!'); filterToolsMobile('calc', this)">
                <span>üßÆ Calculators</span>
                <span style="color: #667eea; font-weight: 600;">14</span>
            </div>
            <div class="mobile-nav-item" onclick="console.log('üîò CONVERTER clicked!'); filterToolsMobile('converter', this)">
                <span>üîÑ Converters</span>
                <span style="color: #667eea; font-weight: 600;">5</span>
            </div>
            <div class="mobile-nav-item" onclick="console.log('üîò GENERATOR clicked!'); filterToolsMobile('generator', this)">
                <span>‚ú® Generators</span>
                <span style="color: #667eea; font-weight: 600;">6</span>
            </div>
            <div class="mobile-nav-item" onclick="console.log('üîò DEV clicked!'); filterToolsMobile('dev', this)">
                <span>üíª Developer</span>
                <span style="color: #667eea; font-weight: 600;">3</span>
            </div>
        </div>
    </div>
    
    <!-- Mobile Bottom Action Bar -->
    <div class="mobile-bottom-bar">
        <div class="mobile-bottom-bar-content">
            <button class="bottom-bar-btn active" onclick="mobileBottomAction('home', this)">
                <span class="icon">üè†</span>
                <span>Home</span>
            </button>
            <button class="bottom-bar-btn" onclick="mobileBottomAction('favorites', this)">
                <span class="icon">‚≠ê</span>
                <span>Favorites</span>
            </button>
            <button class="bottom-bar-btn" onclick="mobileBottomAction('history', this)">
                <span class="icon">üìú</span>
                <span>History</span>
            </button>
            <button class="bottom-bar-btn" onclick="mobileBottomAction('search', this)">
                <span class="icon">üîç</span>
                <span>Search</span>
            </button>
        </div>
    </div>
    
    <!-- Swipe Indicator -->
    <div class="swipe-indicator left" id="swipeIndicatorLeft">
        ‚Üê Previous Tool
    </div>
    <div class="swipe-indicator right" id="swipeIndicatorRight">
        Next Tool ‚Üí
    </div>
    
    <header>
        <h1>üõ†Ô∏è Free Online Tools</h1>
        <p>Professional tools for everyday tasks - Always free, no signup required</p>
        <div class="tool-count">32 Tools Available</div>
        
        <!-- Buy Me a Coffee Button -->
        <div style="margin-top: 20px;">
            <a href="https://buymeacoffee.com/tooldexo" target="_blank" style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 24px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: transform 0.2s, box-shadow 0.2s; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);">
                <span style="font-size: 20px;">‚òï</span>
                <span>Support ToolDexo</span>
            </a>
        </div>
    </header>

    <div class="container">
        <div class="main-content">
            <!-- Tool Navigation -->
            <div class="tool-nav">
                <!-- Search Bar -->
                <div class="search-container" style="position: relative;">
                    <input type="text" 
                           id="toolSearch" 
                           class="search-bar" 
                           placeholder="üîç Search tools (e.g., BMI, currency, password)..."
                           oninput="searchTools(); console.log('‚å®Ô∏è INPUT EVENT FIRED!');"
                           onkeyup="showAutocomplete(); console.log('‚å®Ô∏è KEYUP EVENT FIRED!');"
                           onfocus="showAutocomplete()"
                           autocomplete="off">
                    <span class="search-icon">üîç</span>
                    
                    <!-- Test: Manual search button (shows search is working) -->
                    <button onclick="searchTools(); console.log('üîò BUTTON CLICKED!');" 
                            style="position: absolute; right: 50px; top: 50%; transform: translateY(-50%); 
                                   background: #667eea; color: white; border: none; padding: 8px 12px; 
                                   border-radius: 6px; cursor: pointer; font-size: 12px; z-index: 10;">
                        Search
                    </button>
                    
                    <!-- Autocomplete Dropdown -->
                    <div id="autocompleteDropdown" class="autocomplete-dropdown" style="display: none;">
                        <!-- Suggestions will appear here -->
                    </div>
                </div>
                
                <!-- Filter Status Indicator -->
                <div id="filterStatus" style="font-size: 13px; color: #667eea; margin: 10px 0; text-align: center; font-weight: 600;">
                    üìã Showing all 32 tools
                </div>
                
                <!-- Favorites Section -->
                <div id="favoritesSection" class="favorites-section" style="display: none;">
                    <h3>‚≠ê Your Favorite Tools</h3>
                    <div id="favoritesList"></div>
                </div>
                
                <div class="tool-categories">
                    <button class="category-btn active" onclick="filterTools('all')">All Tools (32)</button>
                    <button class="category-btn" onclick="filterTools('text')">Text Tools (5)</button>
                    <button class="category-btn" onclick="filterTools('calc')">Calculators (14)</button>
                    <button class="category-btn" onclick="filterTools('converter')">Converters (5)</button>
                    <button class="category-btn" onclick="filterTools('generator')">Generators (6)</button>
                    <button class="category-btn" onclick="filterTools('dev')">Developer (3)</button>
                </div>
                <div class="tool-nav-buttons" id="toolButtons">
                    <!-- Tools will be populated by JavaScript -->
                </div>
            </div>

            <!-- TOOL 1: Word Counter -->
            <div id="word-counter" class="tool-card active" data-category="text">
                <h2>
                    <span class="tool-icon">üìù</span> Word Counter
                    <span class="favorite-star" data-tool="word-counter" onclick="toggleFavorite('word-counter')">‚òÜ</span>
                    <button class="try-it-btn" onclick="tryWordCounter()">‚ú® Try Example</button>
                </h2>
                <textarea id="wordCountText" placeholder="Start typing or paste your text here..."></textarea>
                <button class="primary-btn" onclick="updateWordCount()" style="margin: 15px 0;">üìä Count Words</button>
                <div class="stats-grid">
                    <div class="stat-box">
                        <span class="stat-number" id="wordCount">0</span>
                        <span class="stat-label">Words</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-number" id="charCount">0</span>
                        <span class="stat-label">Characters</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-number" id="charCountNoSpace">0</span>
                        <span class="stat-label">No Spaces</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-number" id="sentenceCount">0</span>
                        <span class="stat-label">Sentences</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-number" id="paragraphCount">0</span>
                        <span class="stat-label">Paragraphs</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-number" id="readingTime">0</span>
                        <span class="stat-label">Min Read</span>
                    </div>
                </div>
            </div>

            <!-- TOOL 2: Case Converter -->
            <div id="case-converter" class="tool-card" data-category="text">
                <h2><span class="tool-icon">üî§</span> Case Converter</h2>
                <textarea id="caseText" placeholder="Enter text to convert..."></textarea>
                <div style="margin: 20px 0; display: flex; flex-wrap: wrap; gap: 10px;">
                    <button class="primary-btn" onclick="convertCase('upper')">UPPERCASE</button>
                    <button class="primary-btn" onclick="convertCase('lower')">lowercase</button>
                    <button class="primary-btn" onclick="convertCase('title')">Title Case</button>
                    <button class="primary-btn" onclick="convertCase('sentence')">Sentence case</button>
                    <button class="secondary-btn" onclick="document.getElementById('caseText').value = ''">Clear</button>
                </div>
            </div>


            <!-- TOOL 3: Percentage Calculator -->
            <div id="percentage-calc" class="tool-card" data-category="calc">
                <h2><span class="tool-icon">üìä</span> Percentage Calculator</h2>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">What is</label>
                    <div style="display: grid; grid-template-columns: 1fr auto 1fr auto; gap: 10px; align-items: center;">
                        <input type="number" id="percentValue" placeholder="20" value="">
                        <span style="font-size: 1.2em;">%</span>
                        <input type="number" id="percentOf" placeholder="100" value="">
                        <button class="primary-btn" onclick="calculatePercentage()">Calculate</button>
                    </div>
                </div>
                <div class="result-box" id="percentResult" style="display: none;">
                    <div class="result-value" id="percentAnswer"></div>
                </div>
            </div>

            <!-- TOOL 4: Unit Converter -->
            <div id="unit-converter" class="tool-card" data-category="converter">
                <h2><span class="tool-icon">üìè</span> Unit Converter</h2>
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Select Unit Type:</label>
                    <select id="unitType" onchange="updateUnitOptions()">
                        <option value="length">Length</option>
                        <option value="weight">Weight</option>
                        <option value="temperature">Temperature</option>
                    </select>
                </div>
                <div class="converter-grid">
                    <div>
                        <input type="number" id="fromValue" placeholder="0" oninput="convertUnits()">
                        <select id="fromUnit"></select>
                    </div>
                    <div class="converter-arrow">‚Üí</div>
                    <div>
                        <input type="number" id="toValue" placeholder="0" readonly>
                        <select id="toUnit" onchange="convertUnits()"></select>
                    </div>
                </div>
            </div>

            <!-- TOOL 5: Age Calculator -->
            <div id="age-calculator" class="tool-card" data-category="calc">
                <h2><span class="tool-icon">üéÇ</span> Age Calculator</h2>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Enter Your Birth Date:</label>
                    <input type="date" id="birthDate" style="width: 100%; max-width: 300px;">
                    <button class="primary-btn" onclick="calculateAge()" style="margin-top: 15px;">Calculate Age</button>
                </div>
                <div class="result-box" id="ageResult" style="display: none;">
                    <div style="font-size: 1.2em; margin-bottom: 15px;">
                        <strong>You are:</strong>
                    </div>
                    <div class="stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));">
                        <div class="stat-box">
                            <span class="stat-number" id="ageYears">0</span>
                            <span class="stat-label">Years</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-number" id="ageMonths">0</span>
                            <span class="stat-label">Months</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-number" id="ageDays">0</span>
                            <span class="stat-label">Days</span>
                        </div>
                    </div>
                    <div style="margin-top: 20px; padding: 15px; background: white; border-radius: 8px;">
                        <div><strong>Total Days:</strong> <span id="totalDays">0</span></div>
                        <div><strong>Total Hours:</strong> <span id="totalHours">0</span></div>
                        <div><strong>Total Minutes:</strong> <span id="totalMinutes">0</span></div>
                    </div>
                </div>
            </div>


            <!-- TOOL 6: Password Generator -->
            <div id="password-generator" class="tool-card" data-category="generator">
                <h2><span class="tool-icon">üîê</span> Password Generator</h2>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Password Length: <span id="lengthValue">16</span></label>
                    <input type="range" id="passwordLength" min="6" max="32" value="16" 
                           oninput="document.getElementById('lengthValue').textContent = this.value"
                           style="width: 100%;">
                </div>
                <div class="password-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="includeUpper" checked>
                        <span>Uppercase (A-Z)</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="includeLower" checked>
                        <span>Lowercase (a-z)</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="includeNumbers" checked>
                        <span>Numbers (0-9)</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="includeSymbols" checked>
                        <span>Symbols (!@#$%)</span>
                    </label>
                </div>
                <button class="primary-btn" onclick="generatePassword()">Generate Password</button>
                <div class="result-box success" id="passwordResult" style="display: none; margin-top: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; gap: 15px;">
                        <div id="generatedPassword" style="font-family: 'Courier New', monospace; font-size: 1.3em; word-break: break-all; flex: 1;"></div>
                        <button class="secondary-btn" onclick="copyPassword()">Copy</button>
                    </div>
                </div>
            </div>

            <!-- TOOL 7: QR Code Generator -->
            <div id="qr-generator" class="tool-card" data-category="generator">
                <h2><span class="tool-icon">üì±</span> QR Code Generator</h2>
                <textarea id="qrText" placeholder="Enter text or URL to generate QR code..." rows="4"></textarea>
                <button class="primary-btn" onclick="generateQR()">Generate QR Code</button>
                <div class="qr-container" id="qrContainer" style="display: none;">
                    <canvas id="qrcode"></canvas>
                    <div style="margin-top: 20px;">
                        <button class="secondary-btn" onclick="downloadQR()">Download QR Code</button>
                    </div>
                </div>
            </div>

            <!-- TOOL 8: Color Picker -->
            <div id="color-picker" class="tool-card" data-category="generator">
                <h2><span class="tool-icon">üé®</span> Color Picker & Converter</h2>
                <input type="color" id="colorInput" value="#667eea" 
                       oninput="updateColorCodes()"
                       style="width: 100%; height: 60px; cursor: pointer; border: none; border-radius: 8px;">
                <div class="color-display" id="colorDisplay"></div>
                <div class="color-codes">
                    <div class="color-code-box">
                        <div class="color-code-label">HEX</div>
                        <div class="color-code-value" id="hexCode">#667eea</div>
                    </div>
                    <div class="color-code-box">
                        <div class="color-code-label">RGB</div>
                        <div class="color-code-value" id="rgbCode">rgb(102, 126, 234)</div>
                    </div>
                    <div class="color-code-box">
                        <div class="color-code-label">HSL</div>
                        <div class="color-code-value" id="hslCode">hsl(228, 75%, 66%)</div>
                    </div>
                </div>
            </div>


            <!-- TOOL 9: Text Compare -->
            <div id="text-diff" class="tool-card" data-category="text">
                <h2><span class="tool-icon">üîç</span> Text Compare Tool</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div>
                        <label style="display: block; margin-bottom: 10px; font-weight: 600;">Original Text:</label>
                        <textarea id="originalText" placeholder="Enter original text..." rows="10"></textarea>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 10px; font-weight: 600;">Modified Text:</label>
                        <textarea id="modifiedText" placeholder="Enter modified text..." rows="10"></textarea>
                    </div>
                </div>
                <button class="primary-btn" onclick="compareTexts()">Compare Texts</button>
                <div class="result-box" id="diffResult" style="display: none; margin-top: 20px;">
                    <div id="diffOutput"></div>
                </div>
            </div>

            <!-- TOOL 10: Lorem Ipsum Generator -->
            <div id="lorem-ipsum" class="tool-card" data-category="generator">
                <h2><span class="tool-icon">üìÑ</span> Lorem Ipsum Generator</h2>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Number of Paragraphs:</label>
                    <input type="number" id="loremCount" value="3" min="1" max="20" style="max-width: 200px;">
                </div>
                <button class="primary-btn" onclick="generateLorem()">Generate Lorem Ipsum</button>
                <button class="secondary-btn" onclick="copyLorem()">Copy Text</button>
                <div class="result-box" id="loremResult" style="display: none; margin-top: 20px;">
                    <div id="loremText" style="white-space: pre-wrap; line-height: 1.8;"></div>
                </div>
            </div>

            <!-- TOOL 11: BMI Calculator -->
            <div id="bmi-calculator" class="tool-card" data-category="calc">
                <h2>
                    <span class="tool-icon">‚öñÔ∏è</span> BMI Calculator
                    <span class="favorite-star" data-tool="bmi-calculator" onclick="toggleFavorite('bmi-calculator')">‚òÜ</span>
                    <button class="try-it-btn" onclick="tryBMI()">‚ú® Try Example</button>
                </h2>
                
                <!-- Educational Content -->
                <div class="edu-section">
                    <strong>üìñ What is BMI?</strong>
                    Body Mass Index (BMI) is a measure of body fat based on height and weight. It's calculated as weight (kg) √∑ height¬≤ (m). BMI categories: Underweight (<18.5), Normal (18.5-24.9), Overweight (25-29.9), Obese (‚â•30).
                </div>
                
                <div class="input-group">
                    <div>
                        <label>Height (cm):</label>
                        <input type="number" id="bmiHeight" placeholder="170" min="50" max="300">
                    </div>
                    <div>
                        <label>Weight (kg):</label>
                        <input type="number" id="bmiWeight" placeholder="70" min="20" max="300">
                    </div>
                </div>
                <button class="primary-btn" onclick="calculateBMI()">Calculate BMI</button>
                <div class="result-box success" id="bmiResult" style="display: none;">
                    <div style="text-align: center;">
                        <div class="result-value" id="bmiValue">0</div>
                        <div class="bmi-category" id="bmiCategory"></div>
                        <div style="margin-top: 15px; color: #4a5568;" id="bmiAdvice"></div>
                        <div style="margin-top: 15px;">
                            <button class="copy-btn" onclick="copyToClipboard(document.getElementById('bmiValue').textContent + ' - ' + document.getElementById('bmiCategory').textContent, this)">
                                üìã Copy Result
                            </button>
                            <button class="share-btn" onclick="shareResult('BMI Calculator', document.getElementById('bmiValue').textContent + ' - ' + document.getElementById('bmiCategory').textContent)">
                                üîó Share
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Related Tools -->
                <div id="bmi-related" style="display: none;"></div>
            </div>


            <!-- TOOL 12: Tip Calculator -->
            <div id="tip-calculator" class="tool-card" data-category="calc">
                <h2><span class="tool-icon">üí∞</span> Tip Calculator</h2>
                <div class="input-group">
                    <div>
                        <label>Bill Amount ($):</label>
                        <input type="number" id="billAmount" placeholder="100" min="0" step="0.01">
                    </div>
                    <div>
                        <label>Tip Percentage (%):</label>
                        <input type="number" id="tipPercent" placeholder="15" min="0" max="100" value="15">
                    </div>
                </div>
                <div style="margin: 15px 0;">
                    <label>Number of People:</label>
                    <input type="number" id="numPeople" placeholder="1" min="1" value="1" style="max-width: 200px;">
                </div>
                <button class="primary-btn" onclick="calculateTip()">Calculate Tip</button>
                <div class="result-box info" id="tipResult" style="display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div>
                            <div style="color: #4a5568; margin-bottom: 5px;">Tip Amount:</div>
                            <div class="result-value" id="tipAmount">$0.00</div>
                        </div>
                        <div>
                            <div style="color: #4a5568; margin-bottom: 5px;">Total Bill:</div>
                            <div class="result-value" id="totalBill">$0.00</div>
                        </div>
                    </div>
                    <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #e2e8f0;">
                        <div style="color: #4a5568; margin-bottom: 5px;">Per Person:</div>
                        <div class="result-value" id="perPerson">$0.00</div>
                    </div>
                </div>
            </div>

            <!-- TOOL 13: Loan Calculator -->
            <div id="loan-calculator" class="tool-card" data-category="calc">
                <h2><span class="tool-icon">üè¶</span> Loan Calculator</h2>
                <div class="input-group">
                    <div>
                        <label>Loan Amount ($):</label>
                        <input type="number" id="loanAmount" placeholder="10000" min="0">
                    </div>
                    <div>
                        <label>Interest Rate (%):</label>
                        <input type="number" id="interestRate" placeholder="5" min="0" step="0.1">
                    </div>
                </div>
                <div style="margin: 15px 0;">
                    <label>Loan Term (months):</label>
                    <input type="number" id="loanTerm" placeholder="12" min="1" style="max-width: 200px;">
                </div>
                <button class="primary-btn" onclick="calculateLoan()">Calculate Payment</button>
                <div class="result-box info" id="loanResult" style="display: none;">
                    <div style="text-align: center;">
                        <div style="color: #4a5568; margin-bottom: 10px;">Monthly Payment:</div>
                        <div class="result-value" id="monthlyPayment">$0.00</div>
                        <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #e2e8f0;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; text-align: left;">
                                <div>
                                    <strong>Total Payment:</strong><br>
                                    <span id="totalPayment">$0.00</span>
                                </div>
                                <div>
                                    <strong>Total Interest:</strong><br>
                                    <span id="totalInterest">$0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TOOL 14: Time Zone Converter -->
            <div id="timezone-converter" class="tool-card" data-category="converter">
                <h2><span class="tool-icon">üåç</span> Time Zone Converter</h2>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Select Time:</label>
                    <input type="datetime-local" id="sourceTime" style="max-width: 300px;">
                </div>
                <div class="input-group">
                    <div>
                        <label>From Timezone:</label>
                        <select id="fromTimezone">
                            <option value="0">UTC/GMT</option>
                            <option value="-5">EST (UTC-5)</option>
                            <option value="-4">EDT (UTC-4)</option>
                            <option value="-6">CST (UTC-6)</option>
                            <option value="-7">MST (UTC-7)</option>
                            <option value="-8">PST (UTC-8)</option>
                            <option value="1">CET (UTC+1)</option>
                            <option value="8">CST China (UTC+8)</option>
                            <option value="9">JST (UTC+9)</option>
                        </select>
                    </div>
                    <div>
                        <label>To Timezone:</label>
                        <select id="toTimezone">
                            <option value="0">UTC/GMT</option>
                            <option value="-5">EST (UTC-5)</option>
                            <option value="-4">EDT (UTC-4)</option>
                            <option value="-6">CST (UTC-6)</option>
                            <option value="-7">MST (UTC-7)</option>
                            <option value="-8">PST (UTC-8)</option>
                            <option value="1">CET (UTC+1)</option>
                            <option value="8">CST China (UTC+8)</option>
                            <option value="9">JST (UTC+9)</option>
                        </select>
                    </div>
                </div>
                <button class="primary-btn" onclick="convertTimezone()">Convert Time</button>
                <div class="result-box info" id="timezoneResult" style="display: none;">
                    <div class="result-value" id="convertedTime"></div>
                </div>
            </div>


            <!-- TOOL 15: Markdown Editor -->
            <div id="markdown-editor" class="tool-card" data-category="text">
                <h2><span class="tool-icon">üìù</span> Markdown Editor</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div>
                        <label style="display: block; margin-bottom: 10px; font-weight: 600;">Markdown Input:</label>
                        <textarea id="markdownInput" placeholder="# Heading
## Subheading
**Bold text**
*Italic text*
- List item 1
- List item 2" oninput="updateMarkdown()" style="min-height: 400px;"></textarea>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 10px; font-weight: 600;">Preview:</label>
                        <div id="markdownPreview" style="border: 2px solid #e2e8f0; border-radius: 8px; padding: 20px; min-height: 400px; background: white;"></div>
                    </div>
                </div>
            </div>

            <!-- TOOL 16: JSON Formatter -->
            <div id="json-formatter" class="tool-card" data-category="dev">
                <h2><span class="tool-icon">{ }</span> JSON Formatter & Validator</h2>
                <textarea id="jsonInput" placeholder='{"name": "John", "age": 30}' rows="10"></textarea>
                <div style="margin: 20px 0; display: flex; gap: 10px;">
                    <button class="primary-btn" onclick="formatJSON()">Format JSON</button>
                    <button class="primary-btn" onclick="minifyJSON()">Minify JSON</button>
                    <button class="secondary-btn" onclick="document.getElementById('jsonInput').value = ''">Clear</button>
                </div>
                <div class="result-box" id="jsonResult" style="display: none;">
                    <div id="jsonOutput" style="font-family: 'Courier New', monospace; white-space: pre-wrap; overflow-x: auto;"></div>
                </div>
            </div>

            <!-- TOOL 17: Base64 Encoder/Decoder -->
            <div id="base64-tool" class="tool-card" data-category="dev">
                <h2><span class="tool-icon">üîê</span> Base64 Encoder/Decoder</h2>
                <textarea id="base64Input" placeholder="Enter text to encode or Base64 to decode..." rows="8"></textarea>
                <div style="margin: 20px 0; display: flex; gap: 10px;">
                    <button class="primary-btn" onclick="encodeBase64()">Encode to Base64</button>
                    <button class="primary-btn" onclick="decodeBase64()">Decode from Base64</button>
                    <button class="secondary-btn" onclick="copyBase64()">Copy Result</button>
                </div>
                <div class="result-box success" id="base64Result" style="display: none;">
                    <div id="base64Output" style="font-family: 'Courier New', monospace; word-break: break-all;"></div>
                </div>
            </div>


            <!-- TOOL 20: Currency Converter -->
            <div id="currency-converter" class="tool-card" data-category="converter">
                <h2>
                    <span class="tool-icon">üí±</span> Currency Converter
                    <span class="favorite-star" data-tool="currency-converter" onclick="toggleFavorite('currency-converter')">‚òÜ</span>
                    <button class="try-it-btn" onclick="tryCurrency()">‚ú® Try Example</button>
                </h2>
                
                <div class="edu-section">
                    <strong>üìñ What is Currency Converter?</strong>
                    Convert between 36+ world currencies with live exchange rates from European Central Bank (updated hourly). Essential for travel planning, international shopping, forex trading, and understanding prices abroad.
                </div>
                
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Amount:</label>
                    <input type="number" id="currencyAmount" placeholder="100" min="0" step="0.01">
                </div>
                <div class="input-group">
                    <div>
                        <label>From Currency:</label>
                        <select id="fromCurrency">
                            <option value="USD">USD - US Dollar</option>
                            <option value="EUR">EUR - Euro</option>
                            <option value="GBP">GBP - British Pound</option>
                            <option value="JPY">JPY - Japanese Yen</option>
                            <option value="AUD">AUD - Australian Dollar</option>
                            <option value="CAD">CAD - Canadian Dollar</option>
                            <option value="CHF">CHF - Swiss Franc</option>
                            <option value="CNY">CNY - Chinese Yuan</option>
                            <option value="SEK">SEK - Swedish Krona</option>
                            <option value="NZD">NZD - New Zealand Dollar</option>
                            <option value="MXN">MXN - Mexican Peso</option>
                            <option value="SGD">SGD - Singapore Dollar</option>
                            <option value="HKD">HKD - Hong Kong Dollar</option>
                            <option value="NOK">NOK - Norwegian Krone</option>
                            <option value="KRW">KRW - South Korean Won</option>
                            <option value="TRY">TRY - Turkish Lira</option>
                            <option value="RUB">RUB - Russian Ruble</option>
                            <option value="INR">INR - Indian Rupee</option>
                            <option value="BRL">BRL - Brazilian Real</option>
                            <option value="ZAR">ZAR - South African Rand</option>
                            <option value="DKK">DKK - Danish Krone</option>
                            <option value="PLN">PLN - Polish Zloty</option>
                            <option value="THB">THB - Thai Baht</option>
                            <option value="MYR">MYR - Malaysian Ringgit</option>
                            <option value="HUF">HUF - Hungarian Forint</option>
                            <option value="CZK">CZK - Czech Koruna</option>
                            <option value="ILS">ILS - Israeli Shekel</option>
                            <option value="CLP">CLP - Chilean Peso</option>
                            <option value="PHP">PHP - Philippine Peso</option>
                            <option value="AED">AED - UAE Dirham</option>
                            <option value="COP">COP - Colombian Peso</option>
                            <option value="SAR">SAR - Saudi Riyal</option>
                            <option value="RON">RON - Romanian Leu</option>
                            <option value="BGN">BGN - Bulgarian Lev</option>
                            <option value="ISK">ISK - Icelandic Krona</option>
                            <option value="IDR">IDR - Indonesian Rupiah</option>
                        </select>
                    </div>
                    <div>
                        <label>To Currency:</label>
                        <select id="toCurrency">
                            <option value="USD">USD - US Dollar</option>
                            <option value="EUR" selected>EUR - Euro</option>
                            <option value="GBP">GBP - British Pound</option>
                            <option value="JPY">JPY - Japanese Yen</option>
                            <option value="AUD">AUD - Australian Dollar</option>
                            <option value="CAD">CAD - Canadian Dollar</option>
                            <option value="CHF">CHF - Swiss Franc</option>
                            <option value="CNY">CNY - Chinese Yuan</option>
                            <option value="SEK">SEK - Swedish Krona</option>
                            <option value="NZD">NZD - New Zealand Dollar</option>
                            <option value="MXN">MXN - Mexican Peso</option>
                            <option value="SGD">SGD - Singapore Dollar</option>
                            <option value="HKD">HKD - Hong Kong Dollar</option>
                            <option value="NOK">NOK - Norwegian Krone</option>
                            <option value="KRW">KRW - South Korean Won</option>
                            <option value="TRY">TRY - Turkish Lira</option>
                            <option value="RUB">RUB - Russian Ruble</option>
                            <option value="INR">INR - Indian Rupee</option>
                            <option value="BRL">BRL - Brazilian Real</option>
                            <option value="ZAR">ZAR - South African Rand</option>
                            <option value="DKK">DKK - Danish Krone</option>
                            <option value="PLN">PLN - Polish Zloty</option>
                            <option value="THB">THB - Thai Baht</option>
                            <option value="MYR">MYR - Malaysian Ringgit</option>
                            <option value="HUF">HUF - Hungarian Forint</option>
                            <option value="CZK">CZK - Czech Koruna</option>
                            <option value="ILS">ILS - Israeli Shekel</option>
                            <option value="CLP">CLP - Chilean Peso</option>
                            <option value="PHP">PHP - Philippine Peso</option>
                            <option value="AED">AED - UAE Dirham</option>
                            <option value="COP">COP - Colombian Peso</option>
                            <option value="SAR">SAR - Saudi Riyal</option>
                            <option value="RON">RON - Romanian Leu</option>
                            <option value="BGN">BGN - Bulgarian Lev</option>
                            <option value="ISK">ISK - Icelandic Krona</option>
                            <option value="IDR">IDR - Indonesian Rupiah</option>
                        </select>
                    </div>
                </div>
                <button class="primary-btn" onclick="convertCurrency()" style="margin: 15px 0;">üí± Convert Currency</button>
                <div class="result-box info" id="currencyResult" style="display: none;">
                    <div class="result-value" id="currencyOutput"></div>
                    <div style="margin-top: 10px; font-size: 0.9em; color: #718096;">
                        ‚úÖ Live rates from European Central Bank (updated hourly)
                    </div>
                    <div style="margin-top: 15px; text-center;">
                        <button class="copy-btn" onclick="copyToClipboard(document.getElementById('currencyOutput').textContent, this)">
                            üìã Copy Result
                        </button>
                        <button class="share-btn" onclick="shareResult('Currency Converter', document.getElementById('currencyOutput').textContent)">
                            üîó Share
                        </button>
                    </div>
                </div>
                <div id="currency-converter-related" style="display: none;"></div>
            </div>

                        <!-- TOOL 19: Image Resizer Info -->
            <div id="image-resizer" class="tool-card" data-category="converter">
                <h2><span class="tool-icon">üñºÔ∏è</span> Image Resizer & Info</h2>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Enter Image Dimensions:</label>
                    <div class="input-group">
                        <div>
                            <label>Original Width (px):</label>
                            <input type="number" id="imgOrigWidth" placeholder="1920" min="1">
                        </div>
                        <div>
                            <label>Original Height (px):</label>
                            <input type="number" id="imgOrigHeight" placeholder="1080" min="1">
                        </div>
                    </div>
                    <div class="input-group">
                        <div>
                            <label>New Width (px):</label>
                            <input type="number" id="imgNewWidth" placeholder="800" min="1" oninput="calculateImageSize()">
                        </div>
                        <div>
                            <label>Maintain Aspect Ratio:</label>
                            <label class="checkbox-label" style="margin-top: 8px;">
                                <input type="checkbox" id="maintainRatio" checked onchange="calculateImageSize()">
                                <span>Lock proportions</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="result-box info" id="imageResult" style="display: none;">
                    <div><strong>New Dimensions:</strong> <span id="newDimensions"></span></div>
                    <div style="margin-top: 10px;"><strong>Aspect Ratio:</strong> <span id="aspectRatio"></span></div>
                    <div style="margin-top: 10px;"><strong>Scale Factor:</strong> <span id="scaleFactor"></span></div>
                </div>
            </div>

            <!-- TOOL 20: Calorie Calculator -->
            <div id="calorie-calculator" class="tool-card" data-category="calc">
                <h2><span class="tool-icon">üî•</span> Calorie & TDEE Calculator</h2>
                <div class="input-group">
                    <div>
                        <label>Weight (kg):</label>
                        <input type="number" id="calWeight" placeholder="70" min="1">
                    </div>
                    <div>
                        <label>Height (cm):</label>
                        <input type="number" id="calHeight" placeholder="170" min="1">
                    </div>
                </div>
                <div class="input-group">
                    <div>
                        <label>Age (years):</label>
                        <input type="number" id="calAge" placeholder="30" min="1">
                    </div>
                    <div>
                        <label>Gender:</label>
                        <select id="calGender">
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                    </div>
                </div>
                <div style="margin: 15px 0;">
                    <label>Activity Level:</label>
                    <select id="activityLevel">
                        <option value="1.2">Sedentary (little/no exercise)</option>
                        <option value="1.375">Light (exercise 1-3 days/week)</option>
                        <option value="1.55" selected>Moderate (exercise 3-5 days/week)</option>
                        <option value="1.725">Active (exercise 6-7 days/week)</option>
                        <option value="1.9">Very Active (physical job/2x training)</option>
                    </select>
                </div>
                <button class="primary-btn" onclick="calculateCalories()">Calculate Calories</button>
                <div class="result-box success" id="calorieResult" style="display: none;">
                    <div style="text-align: center;">
                        <div style="color: #4a5568; margin-bottom: 10px;">Daily Calorie Needs (TDEE):</div>
                        <div class="result-value" id="tdeeValue">0</div>
                        <div style="margin-top: 20px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; text-align: left;">
                            <div>
                                <strong>Weight Loss:</strong><br>
                                <span id="weightLoss">0</span> cal/day
                            </div>
                            <div>
                                <strong>Maintenance:</strong><br>
                                <span id="maintenance">0</span> cal/day
                            </div>
                            <div>
                                <strong>Weight Gain:</strong><br>
                                <span id="weightGain">0</span> cal/day
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- TOOL 21: Mortgage Calculator -->
            <div id="mortgage-calculator" class="tool-card" data-category="calc">
                <h2><span class="tool-icon">üè†</span> Mortgage Calculator</h2>
                <div class="input-group">
                    <div>
                        <label>Home Price ($):</label>
                        <input type="number" id="homePrice" placeholder="300000" min="0">
                    </div>
                    <div>
                        <label>Down Payment ($):</label>
                        <input type="number" id="downPayment" placeholder="60000" min="0">
                    </div>
                </div>
                <div class="input-group">
                    <div>
                        <label>Interest Rate (%):</label>
                        <input type="number" id="mortgageRate" placeholder="3.5" min="0" step="0.1">
                    </div>
                    <div>
                        <label>Loan Term (years):</label>
                        <select id="loanTermYears">
                            <option value="15">15 years</option>
                            <option value="20">20 years</option>
                            <option value="30" selected>30 years</option>
                        </select>
                    </div>
                </div>
                <button class="primary-btn" onclick="calculateMortgage()">Calculate Mortgage</button>
                <div class="result-box info" id="mortgageResult" style="display: none;">
                    <div style="text-align: center;">
                        <div style="color: #4a5568; margin-bottom: 10px;">Monthly Payment:</div>
                        <div class="result-value" id="mortgagePayment">$0</div>
                        <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #e2e8f0; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; text-align: left;">
                            <div>
                                <strong>Loan Amount:</strong><br>
                                <span id="loanAmountDisplay">$0</span>
                            </div>
                            <div>
                                <strong>Total Interest:</strong><br>
                                <span id="totalMortgageInterest">$0</span>
                            </div>
                            <div>
                                <strong>Total Paid:</strong><br>
                                <span id="totalMortgagePaid">$0</span>
                            </div>
                            <div>
                                <strong>Down Payment:</strong><br>
                                <span id="downPaymentDisplay">$0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TOOL 22: Tax Calculator -->
            <div id="tax-calculator" class="tool-card" data-category="calc">
                <h2><span class="tool-icon">üíµ</span> Sales Tax Calculator</h2>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Pre-Tax Amount ($):</label>
                    <input type="number" id="preTaxAmount" placeholder="100" min="0" step="0.01">
                </div>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Tax Rate (%):</label>
                    <input type="number" id="taxRate" placeholder="8.5" min="0" max="100" step="0.1">
                </div>
                <button class="primary-btn" onclick="calculateTax()">Calculate Tax</button>
                <div class="result-box info" id="taxResult" style="display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; text-align: center;">
                        <div>
                            <div style="color: #4a5568; margin-bottom: 5px;">Pre-Tax:</div>
                            <div style="font-size: 1.3em; font-weight: bold;" id="preTaxDisplay">$0</div>
                        </div>
                        <div>
                            <div style="color: #4a5568; margin-bottom: 5px;">Tax Amount:</div>
                            <div style="font-size: 1.3em; font-weight: bold; color: #667eea;" id="taxAmount">$0</div>
                        </div>
                        <div>
                            <div style="color: #4a5568; margin-bottom: 5px;">Total:</div>
                            <div style="font-size: 1.3em; font-weight: bold;" id="totalWithTax">$0</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TOOL 23: Grade Calculator -->
            <div id="grade-calculator" class="tool-card" data-category="calc">
                <h2><span class="tool-icon">üéì</span> Grade Calculator</h2>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Enter Grades (one per line):</label>
                    <textarea id="gradesList" placeholder="85
92
78
95
88" rows="8"></textarea>
                </div>
                <button class="primary-btn" onclick="calculateGrades()">Calculate Average</button>
                <button class="secondary-btn" onclick="document.getElementById('gradesList').value = ''">Clear</button>
                <div class="result-box success" id="gradeResult" style="display: none;">
                    <div class="stats-grid">
                        <div class="stat-box">
                            <span class="stat-number" id="avgGrade">0</span>
                            <span class="stat-label">Average</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-number" id="letterGrade">A</span>
                            <span class="stat-label">Letter Grade</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-number" id="highestGrade">0</span>
                            <span class="stat-label">Highest</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-number" id="lowestGrade">0</span>
                            <span class="stat-label">Lowest</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AD SPACE - Hidden until AdSense approved -->
            <div class="ad-space ad-space-between" style="display: none;">
                <!-- Future AdSense ad will go here -->
            </div>

            <!-- TOOL 24: Date Calculator -->
            <div id="date-calculator" class="tool-card" data-category="calc">
                <h2><span class="tool-icon">üìÖ</span> Date Calculator</h2>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Start Date:</label>
                    <input type="date" id="startDate">
                </div>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">End Date:</label>
                    <input type="date" id="endDate">
                </div>
                <button class="primary-btn" onclick="calculateDateDifference()">Calculate Difference</button>
                <div class="result-box info" id="dateResult" style="display: none;">
                    <div class="stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));">
                        <div class="stat-box">
                            <span class="stat-number" id="daysDiff">0</span>
                            <span class="stat-label">Days</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-number" id="weeksDiff">0</span>
                            <span class="stat-label">Weeks</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-number" id="monthsDiff">0</span>
                            <span class="stat-label">Months</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-number" id="yearsDiff">0</span>
                            <span class="stat-label">Years</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TOOL 25: Random Number Generator -->
            <div id="random-number" class="tool-card" data-category="generator">
                <h2><span class="tool-icon">üé≤</span> Random Number Generator</h2>
                <div class="input-group">
                    <div>
                        <label>Minimum Value:</label>
                        <input type="number" id="randomMin" placeholder="1" value="1">
                    </div>
                    <div>
                        <label>Maximum Value:</label>
                        <input type="number" id="randomMax" placeholder="100" value="100">
                    </div>
                </div>
                <div style="margin: 15px 0;">
                    <label>How Many Numbers:</label>
                    <input type="number" id="randomCount" placeholder="1" value="1" min="1" max="100" style="max-width: 200px;">
                </div>
                <button class="primary-btn" onclick="generateRandomNumbers()">Generate Numbers</button>
                <div class="result-box success" id="randomResult" style="display: none;">
                    <div style="text-align: center;">
                        <div id="randomNumbers" style="font-size: 2em; font-weight: bold; color: #667eea; margin: 20px 0;"></div>
                    </div>
                </div>
            </div>

            <!-- TOOL 26: File Size Converter -->
            <div id="filesize-converter" class="tool-card" data-category="converter">
                <h2><span class="tool-icon">üíæ</span> File Size Converter</h2>
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Enter File Size:</label>
                    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 15px;">
                        <input type="number" id="fileSizeValue" placeholder="1024" min="0" step="0.01" oninput="convertFileSize()">
                        <select id="fileSizeUnit" onchange="convertFileSize()">
                            <option value="bytes">Bytes</option>
                            <option value="kb">KB</option>
                            <option value="mb" selected>MB</option>
                            <option value="gb">GB</option>
                            <option value="tb">TB</option>
                        </select>
                    </div>
                </div>
                <div class="result-box info" id="fileSizeResult" style="display: none;">
                    <div style="display: grid; gap: 10px;">
                        <div><strong>Bytes:</strong> <span id="sizeBytes">0</span></div>
                        <div><strong>Kilobytes (KB):</strong> <span id="sizeKB">0</span></div>
                        <div><strong>Megabytes (MB):</strong> <span id="sizeMB">0</span></div>
                        <div><strong>Gigabytes (GB):</strong> <span id="sizeGB">0</span></div>
                        <div><strong>Terabytes (TB):</strong> <span id="sizeTB">0</span></div>
                    </div>
                </div>
            </div>

            <!-- TOOL 27: Character Counter -->
            <div id="character-counter" class="tool-card" data-category="text">
                <h2><span class="tool-icon">üî¢</span> Character Counter</h2>
                <textarea id="charCounterText" placeholder="Type or paste text here..." oninput="updateCharCounter()"></textarea>
                <div class="stats-grid">
                    <div class="stat-box">
                        <span class="stat-number" id="totalChars">0</span>
                        <span class="stat-label">Total Characters</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-number" id="charsNoSpaces">0</span>
                        <span class="stat-label">Without Spaces</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-number" id="letters">0</span>
                        <span class="stat-label">Letters</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-number" id="numbers">0</span>
                        <span class="stat-label">Numbers</span>
                    </div>
                </div>
            </div>

            <!-- TOOL 28: Compound Interest Calculator -->
            <div id="compound-interest" class="tool-card" data-category="calc">
                <h2><span class="tool-icon">üìà</span> Compound Interest Calculator</h2>
                <div class="input-group">
                    <div>
                        <label>Initial Investment ($):</label>
                        <input type="number" id="principal" placeholder="10000" min="0">
                    </div>
                    <div>
                        <label>Monthly Contribution ($):</label>
                        <input type="number" id="monthly" placeholder="200" min="0">
                    </div>
                </div>
                <div class="input-group">
                    <div>
                        <label>Annual Interest Rate (%):</label>
                        <input type="number" id="annualRate" placeholder="7" min="0" step="0.1">
                    </div>
                    <div>
                        <label>Time Period (years):</label>
                        <input type="number" id="timePeriod" placeholder="10" min="1">
                    </div>
                </div>
                <button class="primary-btn" onclick="calculateCompoundInterest()">Calculate</button>
                <div class="result-box success" id="compoundResult" style="display: none;">
                    <div style="text-align: center;">
                        <div style="color: #4a5568; margin-bottom: 10px;">Future Value:</div>
                        <div class="result-value" id="futureValue">$0</div>
                        <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #e2e8f0; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; text-align: left;">
                            <div>
                                <strong>Total Contributions:</strong><br>
                                <span id="totalContributions">$0</span>
                            </div>
                            <div>
                                <strong>Interest Earned:</strong><br>
                                <span id="interestEarned">$0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TOOL 29: Favicon Generator -->
            <div id="favicon-generator" class="tool-card" data-category="generator">
                <h2><span class="tool-icon">üé®</span> Favicon Generator</h2>
                <p style="margin-bottom: 20px; color: #718096;">Create custom favicons for your website. Choose text, colors, and download all required sizes!</p>
                
                <div class="input-group">
                    <div>
                        <label>Favicon Text (1-3 characters):</label>
                        <input type="text" id="faviconText" placeholder="TD" maxlength="3" value="TD" oninput="generateFaviconPreview()">
                    </div>
                    <div>
                        <label>Font Size:</label>
                        <input type="range" id="faviconFontSize" min="20" max="80" value="50" oninput="generateFaviconPreview(); document.getElementById('fontSizeValue').textContent = this.value">
                        <span id="fontSizeValue" style="color: #667eea; font-weight: 600;">50</span>
                    </div>
                </div>

                <div class="input-group">
                    <div>
                        <label>Background Color:</label>
                        <input type="color" id="faviconBgColor" value="#667eea" oninput="generateFaviconPreview()" style="width: 100%; height: 50px; cursor: pointer; border: none; border-radius: 8px;">
                    </div>
                    <div>
                        <label>Text Color:</label>
                        <input type="color" id="faviconTextColor" value="#ffffff" oninput="generateFaviconPreview()" style="width: 100%; height: 50px; cursor: pointer; border: none; border-radius: 8px;">
                    </div>
                </div>

                <div class="input-group">
                    <div>
                        <label>Corner Radius:</label>
                        <input type="range" id="faviconRadius" min="0" max="32" value="12" oninput="generateFaviconPreview(); document.getElementById('radiusValue').textContent = this.value">
                        <span id="radiusValue" style="color: #667eea; font-weight: 600;">12</span>
                    </div>
                    <div>
                        <label>Font Weight:</label>
                        <select id="faviconFontWeight" onchange="generateFaviconPreview()" style="padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; width: 100%; font-size: 16px;">
                            <option value="normal">Normal</option>
                            <option value="bold" selected>Bold</option>
                            <option value="900">Extra Bold</option>
                        </select>
                    </div>
                </div>

                <button class="primary-btn" onclick="generateFaviconPreview()" style="margin-bottom: 20px;">
                    üé® Update Preview
                </button>

                <div style="background: #f7fafc; padding: 30px; border-radius: 12px; text-align: center; margin-bottom: 20px;">
                    <div style="margin-bottom: 15px; color: #4a5568; font-weight: 600;">Preview:</div>
                    <canvas id="faviconCanvas" width="256" height="256" style="border: 2px solid #e2e8f0; border-radius: 8px; max-width: 100%; height: auto;"></canvas>
                </div>

                <div class="input-group">
                    <button class="primary-btn" onclick="downloadFavicon(16)">
                        üì• Download 16x16
                    </button>
                    <button class="primary-btn" onclick="downloadFavicon(32)">
                        üì• Download 32x32
                    </button>
                </div>
                <div class="input-group">
                    <button class="primary-btn" onclick="downloadFavicon(64)">
                        üì• Download 64x64
                    </button>
                    <button class="primary-btn" onclick="downloadFavicon(180)">
                        üì• Download 180x180 (Apple)
                    </button>
                </div>

                <div class="result-box info" style="margin-top: 20px;">
                    <strong>üí° How to use:</strong><br>
                    1. Customize your favicon above<br>
                    2. Download the sizes you need (at minimum: 16x16, 32x32)<br>
                    3. Upload to your website root directory<br>
                    4. Add this to your HTML &lt;head&gt; section:<br>
                    <code style="display: block; margin-top: 10px; padding: 10px; background: white; border-radius: 6px; font-size: 12px;">
                        &lt;link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"&gt;<br>
                        &lt;link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"&gt;
                    </code>
                </div>
            </div>

            <!-- NEW TOOL 30: Salary Calculator -->
            <div id="salary-calculator" class="tool-card" data-category="calc">
                <h2>
                    <span class="tool-icon">üíµ</span> Salary Calculator
                    <span class="favorite-star" data-tool="salary-calculator" onclick="toggleFavorite('salary-calculator')">‚òÜ</span>
                    <button class="try-it-btn" onclick="trySalary()">‚ú® Try Example</button>
                </h2>
                
                <div class="edu-section">
                    <strong>üìñ What is Salary Calculator?</strong>
                    Convert between hourly, daily, weekly, monthly, and yearly salary. Based on standard work year: 2,080 hours (40 hrs/week √ó 52 weeks). Useful for comparing job offers, freelance rates, and understanding true compensation.
                </div>
                
                <div class="input-group">
                    <div>
                        <label>Enter Amount:</label>
                        <input type="number" id="salaryAmount" placeholder="50000" min="0" step="0.01">
                    </div>
                    <div>
                        <label>Period:</label>
                        <select id="salaryPeriod">
                            <option value="yearly">Yearly</option>
                            <option value="monthly">Monthly</option>
                            <option value="weekly">Weekly</option>
                            <option value="daily">Daily</option>
                            <option value="hourly">Hourly</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin: 15px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Hours per Week:</label>
                    <input type="number" id="hoursPerWeek" placeholder="40" value="40" min="1" max="168">
                </div>
                
                <button class="primary-btn" onclick="calculateSalary()">üíµ Calculate All Periods</button>
                
                <div class="result-box info" id="salaryResult" style="display: none;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px;">
                        <div style="text-align: center;">
                            <div style="color: #4a5568; margin-bottom: 5px; font-weight: 600;">Hourly</div>
                            <div style="font-size: 1.3em; font-weight: bold; color: #667eea;" id="salaryHourly">$0.00</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="color: #4a5568; margin-bottom: 5px; font-weight: 600;">Daily</div>
                            <div style="font-size: 1.3em; font-weight: bold; color: #667eea;" id="salaryDaily">$0.00</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="color: #4a5568; margin-bottom: 5px; font-weight: 600;">Weekly</div>
                            <div style="font-size: 1.3em; font-weight: bold; color: #667eea;" id="salaryWeekly">$0.00</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="color: #4a5568; margin-bottom: 5px; font-weight: 600;">Monthly</div>
                            <div style="font-size: 1.3em; font-weight: bold; color: #667eea;" id="salaryMonthly">$0.00</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="color: #4a5568; margin-bottom: 5px; font-weight: 600;">Yearly</div>
                            <div style="font-size: 1.3em; font-weight: bold; color: #667eea;" id="salaryYearly">$0.00</div>
                        </div>
                    </div>
                    <div style="margin-top: 20px; text-align: center;">
                        <button class="copy-btn" onclick="copyToClipboard('Hourly: ' + document.getElementById('salaryHourly').textContent + ' | Yearly: ' + document.getElementById('salaryYearly').textContent, this)">
                            üìã Copy Results
                        </button>
                        <button class="share-btn" onclick="shareResult('Salary Calculator', document.getElementById('salaryYearly').textContent + '/year')">
                            üîó Share
                        </button>
                    </div>
                </div>
                <div id="salary-calculator-related" style="display: none;"></div>
            </div>

            <!-- NEW TOOL 31: Hash Generator -->
            <div id="hash-generator" class="tool-card" data-category="dev">
                <h2>
                    <span class="tool-icon">üîê</span> Hash Generator
                    <span class="favorite-star" data-tool="hash-generator" onclick="toggleFavorite('hash-generator')">‚òÜ</span>
                    <button class="try-it-btn" onclick="tryHash()">‚ú® Try Example</button>
                </h2>
                
                <div class="edu-section">
                    <strong>üìñ What is Hash Generator?</strong>
                    Generate cryptographic hashes (MD5, SHA-1, SHA-256, SHA-512) from text. Hashes are one-way functions used for data integrity, passwords, and digital signatures. Same input always produces same hash. Used in security, blockchain, and file verification.
                </div>
                
                <div style="margin: 20px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Enter Text to Hash:</label>
                    <textarea id="hashInput" placeholder="Enter text here..." style="width: 100%; height: 100px; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-family: inherit; font-size: 14px;"></textarea>
                </div>
                
                <button class="primary-btn" onclick="generateHashes()">üîê Generate All Hashes</button>
                
                <div class="result-box info" id="hashResult" style="display: none;">
                    <div style="margin-bottom: 20px;">
                        <strong style="color: #667eea;">MD5:</strong>
                        <div style="display: flex; align-items: center; gap: 10px; margin-top: 8px;">
                            <code style="flex: 1; padding: 10px; background: white; border-radius: 6px; font-size: 13px; word-break: break-all;" id="hashMD5"></code>
                            <button class="copy-btn" onclick="copyToClipboard(document.getElementById('hashMD5').textContent, this)" style="margin: 0;">üìã</button>
                        </div>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <strong style="color: #667eea;">SHA-1:</strong>
                        <div style="display: flex; align-items: center; gap: 10px; margin-top: 8px;">
                            <code style="flex: 1; padding: 10px; background: white; border-radius: 6px; font-size: 13px; word-break: break-all;" id="hashSHA1"></code>
                            <button class="copy-btn" onclick="copyToClipboard(document.getElementById('hashSHA1').textContent, this)" style="margin: 0;">üìã</button>
                        </div>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <strong style="color: #667eea;">SHA-256:</strong>
                        <div style="display: flex; align-items: center; gap: 10px; margin-top: 8px;">
                            <code style="flex: 1; padding: 10px; background: white; border-radius: 6px; font-size: 13px; word-break: break-all;" id="hashSHA256"></code>
                            <button class="copy-btn" onclick="copyToClipboard(document.getElementById('hashSHA256').textContent, this)" style="margin: 0;">üìã</button>
                        </div>
                    </div>
                    <div>
                        <strong style="color: #667eea;">SHA-512:</strong>
                        <div style="display: flex; align-items: center; gap: 10px; margin-top: 8px;">
                            <code style="flex: 1; padding: 10px; background: white; border-radius: 6px; font-size: 13px; word-break: break-all;" id="hashSHA512"></code>
                            <button class="copy-btn" onclick="copyToClipboard(document.getElementById('hashSHA512').textContent, this)" style="margin: 0;">üìã</button>
                        </div>
                    </div>
                </div>
                <div id="hash-generator-related" style="display: none;"></div>
            </div>

            <!-- NEW TOOL 32: Body Fat Calculator -->
            <div id="bodyfat-calculator" class="tool-card" data-category="calc">
                <h2>
                    <span class="tool-icon">üí™</span> Body Fat Calculator
                    <span class="favorite-star" data-tool="bodyfat-calculator" onclick="toggleFavorite('bodyfat-calculator')">‚òÜ</span>
                    <button class="try-it-btn" onclick="tryBodyFat()">‚ú® Try Example</button>
                </h2>
                
                <div class="edu-section">
                    <strong>üìñ What is Body Fat Percentage?</strong>
                    Body fat percentage is the proportion of fat to total body weight. Uses US Navy method with circumference measurements. Categories: Athletes (6-13% men, 14-20% women), Fit (14-17% men, 21-24% women), Average (18-24% men, 25-31% women), Obese (25%+ men, 32%+ women).
                </div>
                
                <div style="margin: 15px 0;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Gender:</label>
                    <select id="bfGender" onchange="toggleBodyFatInputs()">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <div>
                        <label>Height (cm):</label>
                        <input type="number" id="bfHeight" placeholder="170" min="1">
                    </div>
                    <div>
                        <label>Weight (kg):</label>
                        <input type="number" id="bfWeight" placeholder="70" min="1">
                    </div>
                </div>
                
                <div class="input-group">
                    <div>
                        <label>Neck (cm):</label>
                        <input type="number" id="bfNeck" placeholder="37" min="1" step="0.1">
                    </div>
                    <div>
                        <label>Waist (cm):</label>
                        <input type="number" id="bfWaist" placeholder="85" min="1" step="0.1">
                    </div>
                </div>
                
                <div id="bfHipContainer" style="margin: 15px 0; display: none;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Hip (cm):</label>
                    <input type="number" id="bfHip" placeholder="95" min="1" step="0.1">
                </div>
                
                <button class="primary-btn" onclick="calculateBodyFat()">üí™ Calculate Body Fat %</button>
                
                <div class="result-box success" id="bodyFatResult" style="display: none;">
                    <div style="text-align: center;">
                        <div class="result-value" id="bodyFatValue">0%</div>
                        <div style="font-size: 1.2em; color: #667eea; font-weight: 600; margin-top: 10px;" id="bodyFatCategory"></div>
                        <div style="margin-top: 15px; color: #4a5568;" id="bodyFatAdvice"></div>
                        <div style="margin-top: 20px;">
                            <button class="copy-btn" onclick="copyToClipboard(document.getElementById('bodyFatValue').textContent + ' - ' + document.getElementById('bodyFatCategory').textContent, this)">
                                üìã Copy Result
                            </button>
                            <button class="share-btn" onclick="shareResult('Body Fat Calculator', document.getElementById('bodyFatValue').textContent)">
                                üîó Share
                            </button>
                        </div>
                    </div>
                </div>
                <div id="bodyfat-calculator-related" style="display: none;"></div>
            </div>


            <!-- BOTTOM AD SPACE - Hidden until AdSense approved -->
            <div class="ad-space ad-space-between" style="display: none;">
                <!-- Future AdSense ad will go here -->
            </div>
        </div>

        <!-- SIDEBAR -->
        <div class="sidebar">
            <!-- Buy Me a Coffee Widget -->
            <div style="background: white; border-radius: 12px; padding: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center; margin-bottom: 30px;">
                <h3 style="margin: 0 0 15px 0; color: #2d3748; font-size: 20px;">‚òï Enjoy the tools?</h3>
                <p style="margin: 0 0 20px 0; color: #718096; font-size: 14px; line-height: 1.6;">
                    ToolDexo is free and always will be. If you find it useful, consider buying me a coffee!
                </p>
                <a href="https://buymeacoffee.com/tooldexo" target="_blank" style="display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 14px 28px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 16px; transition: all 0.3s; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); width: 100%; max-width: 250px;">
                    <span style="font-size: 22px;">‚òï</span>
                    <span>Buy Me a Coffee</span>
                </a>
                <p style="margin: 20px 0 0 0; color: #a0aec0; font-size: 12px;">
                    Your support helps keep this free!
                </p>
            </div>
            
            <!-- Ad Space (for future AdSense) - Hidden -->
            <div class="ad-space ad-space-sidebar" style="display: none;">
                <!-- Future AdSense placement -->
            </div>
        </div>
    </div>

    <script>
        // DEBUGGING: Script loaded
        console.log('%cüöÄ MAIN SCRIPT LOADED!', 'background: #222; color: #bada55; font-size: 20px; padding: 10px;');
        console.log('Script execution started at:', new Date().toISOString());
        
        // Tool definitions
        const tools = [
            { id: 'word-counter', name: 'üìù Word Counter', category: 'text' },
            { id: 'case-converter', name: 'üî§ Case Converter', category: 'text' },
            { id: 'percentage-calc', name: 'üìä Percentage Calc', category: 'calc' },
            { id: 'unit-converter', name: 'üìè Unit Converter', category: 'converter' },
            { id: 'age-calculator', name: 'üéÇ Age Calculator', category: 'calc' },
            { id: 'password-generator', name: 'üîê Password Gen', category: 'generator' },
            { id: 'qr-generator', name: 'üì± QR Generator', category: 'generator' },
            { id: 'color-picker', name: 'üé® Color Picker', category: 'generator' },
            { id: 'text-diff', name: 'üîç Text Compare', category: 'text' },
            { id: 'lorem-ipsum', name: 'üìÑ Lorem Ipsum', category: 'generator' },
            { id: 'bmi-calculator', name: '‚öñÔ∏è BMI Calculator', category: 'calc' },
            { id: 'tip-calculator', name: 'üí∞ Tip Calculator', category: 'calc' },
            { id: 'loan-calculator', name: 'üè¶ Loan Calculator', category: 'calc' },
            { id: 'timezone-converter', name: 'üåç Timezone Conv', category: 'converter' },
            { id: 'markdown-editor', name: 'üìù Markdown Editor', category: 'text' },
            { id: 'json-formatter', name: '{ } JSON Formatter', category: 'dev' },
            { id: 'base64-tool', name: 'üîê Base64 Tool', category: 'dev' },
            { id: 'currency-converter', name: 'üí± Currency Conv', category: 'converter' },
            { id: 'image-resizer', name: 'üñºÔ∏è Image Resizer', category: 'converter' },
            { id: 'calorie-calculator', name: 'üî• Calorie Calculator', category: 'calc' },
            { id: 'mortgage-calculator', name: 'üè† Mortgage Calc', category: 'calc' },
            { id: 'tax-calculator', name: 'üíµ Tax Calculator', category: 'calc' },
            { id: 'grade-calculator', name: 'üéì Grade Calculator', category: 'calc' },
            { id: 'date-calculator', name: 'üìÖ Date Calculator', category: 'calc' },
            { id: 'random-number', name: 'üé≤ Random Number', category: 'generator' },
            { id: 'filesize-converter', name: 'üíæ File Size Conv', category: 'converter' },
            { id: 'character-counter', name: 'üî¢ Char Counter', category: 'text' },
            { id: 'compound-interest', name: 'üìà Compound Interest', category: 'calc' },
            { id: 'favicon-generator', name: 'üé® Favicon Generator', category: 'generator' },
            { id: 'salary-calculator', name: 'üíµ Salary Calculator', category: 'calc' },
            { id: 'hash-generator', name: 'üîê Hash Generator', category: 'dev' },
            { id: 'bodyfat-calculator', name: 'üí™ Body Fat Calculator', category: 'calc' }
        ];
        
        // ========================================
        // QUICK WINS FEATURES - PHASE 1
        // ========================================
        
        // FEATURE 1: SEARCH FUNCTIONALITY
        function searchTools() {
            console.log('%cüîç SEARCH TOOLS CALLED', 'background: orange; color: white; font-size: 14px; padding: 5px;');
            const query = document.getElementById('toolSearch').value.toLowerCase().trim();
            console.log('  Search query:', `"${query}"`);
            const buttons = document.querySelectorAll('.tool-nav-buttons button');
            let visibleCount = 0;
            
            console.log('  Searching through', buttons.length, 'buttons...');
            
            buttons.forEach((btn, index) => {
                const toolName = btn.textContent.toLowerCase();
                const toolId = btn.onclick.toString().match(/'([^']+)'/)[1];
                const tool = tools.find(t => t.id === toolId);
                const category = tool ? tool.category : '';
                
                const matches = toolName.includes(query) || 
                               toolId.includes(query) || 
                               category.includes(query);
                
                if (index < 3 && query !== '') {  // Log first 3 when searching
                    console.log(`    Button ${index}: "${btn.textContent}" | Match: ${matches}`);
                }
                
                if (matches || query === '') {
                    btn.classList.remove('hidden');
                    visibleCount++;
                } else {
                    btn.classList.add('hidden');
                }
            });
            
            console.log('  ‚úÖ Search results:', visibleCount, 'visible');
            
            // Update visual status
            const statusDiv = document.getElementById('filterStatus');
            if (statusDiv) {
                if (query === '') {
                    statusDiv.textContent = 'üìã Showing all 32 tools';
                } else {
                    statusDiv.textContent = `üîç Found ${visibleCount} tools matching "${query}"`;
                }
                console.log('  ‚úÖ Status updated:', statusDiv.textContent);
            } else {
                console.warn('  ‚ö†Ô∏è filterStatus div not found!');
            }
            
            // Track search
            if (typeof gtag !== 'undefined' && query.length > 2) {
                gtag('event', 'search', {
                    'event_category': 'engagement',
                    'search_term': query,
                    'results_count': visibleCount
                });
            }
        }
        
        // Autocomplete function
        function showAutocomplete() {
            console.log('üîç Autocomplete triggered');
            const input = document.getElementById('toolSearch');
            const dropdown = document.getElementById('autocompleteDropdown');
            const query = input.value.toLowerCase().trim();
            
            if (!dropdown) {
                console.warn('Autocomplete dropdown not found');
                return;
            }
            
            // Hide if empty
            if (query === '') {
                dropdown.style.display = 'none';
                return;
            }
            
            // Find matching tools
            const matches = tools.filter(tool => {
                return tool.name.toLowerCase().includes(query) ||
                       tool.id.toLowerCase().includes(query) ||
                       tool.category.toLowerCase().includes(query);
            });
            
            console.log('Autocomplete matches:', matches.length);
            
            // Show dropdown if matches found
            if (matches.length === 0) {
                dropdown.innerHTML = '<div class="autocomplete-no-results">No tools found</div>';
                dropdown.style.display = 'block';
                return;
            }
            
            // Limit to 8 suggestions
            const limitedMatches = matches.slice(0, 8);
            
            // Build dropdown HTML
            dropdown.innerHTML = limitedMatches.map(tool => {
                const categoryNames = {
                    'text': 'Text Tool',
                    'calc': 'Calculator',
                    'converter': 'Converter',
                    'generator': 'Generator',
                    'dev': 'Developer'
                };
                const categoryName = categoryNames[tool.category] || tool.category;
                
                return `
                    <div class="autocomplete-item" onclick="selectAutocomplete('${tool.id}', '${tool.name}')">
                        <span class="tool-name">${tool.name}</span>
                        <span class="tool-category">${categoryName}</span>
                    </div>
                `;
            }).join('');
            
            dropdown.style.display = 'block';
        }
        
        // Select from autocomplete
        function selectAutocomplete(toolId, toolName) {
            console.log('Selected from autocomplete:', toolName);
            
            // Set search value
            const input = document.getElementById('toolSearch');
            input.value = toolName;
            
            // Hide dropdown
            const dropdown = document.getElementById('autocompleteDropdown');
            if (dropdown) {
                dropdown.style.display = 'none';
            }
            
            // Trigger search
            searchTools();
            
            // Optionally open the tool directly
            // showTool(toolId);
        }
        
        // Close autocomplete when clicking outside
        document.addEventListener('click', function(e) {
            const searchContainer = document.querySelector('.search-container');
            const dropdown = document.getElementById('autocompleteDropdown');
            
            if (dropdown && searchContainer && !searchContainer.contains(e.target)) {
                dropdown.style.display = 'none';
            }
        });
        
        // Mobile menu - Add touch support (backup for onclick)
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üîß Adding touch event support to mobile menu...');
            
            document.querySelectorAll('.mobile-nav-item').forEach(item => {
                // Get the onclick attribute value
                const onclickAttr = item.getAttribute('onclick');
                console.log('  Menu item:', item.textContent.trim(), '| onclick:', onclickAttr ? 'present' : 'missing');
                
                // Add touch event as backup
                item.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    console.log('üëÜ TOUCH EVENT on mobile menu item:', item.textContent.trim());
                    
                    // Get category from text
                    const text = item.textContent.toLowerCase();
                    let category = 'all';
                    if (text.includes('text')) category = 'text';
                    else if (text.includes('calculators')) category = 'calc';
                    else if (text.includes('converters')) category = 'converter';
                    else if (text.includes('generators')) category = 'generator';
                    else if (text.includes('developer')) category = 'dev';
                    
                    console.log('  ‚Üí Detected category:', category);
                    filterToolsMobile(category, item);
                });
            });
            
            console.log('‚úÖ Touch support added to', document.querySelectorAll('.mobile-nav-item').length, 'menu items');
        });
        
        // FEATURE 2: FAVORITES SYSTEM
        function toggleFavorite(toolId) {
            let favorites = JSON.parse(localStorage.getItem('tooldexo_favorites') || '[]');
            const star = document.querySelector(`[data-tool="${toolId}"]`);
            
            if (favorites.includes(toolId)) {
                // Remove from favorites
                favorites = favorites.filter(id => id !== toolId);
                if (star) star.textContent = '‚òÜ';
                if (star) star.classList.remove('favorited');
                showToast('Removed from favorites');
            } else {
                // Add to favorites
                favorites.push(toolId);
                if (star) star.textContent = '‚òÖ';
                if (star) star.classList.add('favorited');
                showToast('Added to favorites! ‚≠ê');
            }
            
            localStorage.setItem('tooldexo_favorites', JSON.stringify(favorites));
            updateFavoritesSection();
            
            // Track
            if (typeof gtag !== 'undefined') {
                gtag('event', 'favorite_toggle', {
                    'event_category': 'engagement',
                    'tool_id': toolId,
                    'action': favorites.includes(toolId) ? 'add' : 'remove'
                });
            }
        }
        
        function updateFavoritesSection() {
            const favorites = JSON.parse(localStorage.getItem('tooldexo_favorites') || '[]');
            const section = document.getElementById('favoritesSection');
            const list = document.getElementById('favoritesList');
            
            if (favorites.length === 0) {
                section.style.display = 'none';
                return;
            }
            
            section.style.display = 'block';
            list.innerHTML = '';
            
            favorites.forEach(toolId => {
                const tool = tools.find(t => t.id === toolId);
                if (tool) {
                    const btn = document.createElement('button');
                    btn.className = 'related-tool-btn';
                    btn.textContent = tool.name;
                    btn.onclick = function() { 
                        showTool(toolId, this);
                        document.getElementById('toolSearch').value = '';
                        searchTools();
                    };
                    list.appendChild(btn);
                }
            });
            
            // Update stars in tool headers
            document.querySelectorAll('.favorite-star').forEach(star => {
                const toolId = star.getAttribute('data-tool');
                if (favorites.includes(toolId)) {
                    star.textContent = '‚òÖ';
                    star.classList.add('favorited');
                } else {
                    star.textContent = '‚òÜ';
                    star.classList.remove('favorited');
                }
            });
        }
        
        // FEATURE 3: CALCULATION HISTORY
        function saveToHistory(toolName, input, result) {
            let history = JSON.parse(localStorage.getItem('tooldexo_history') || '[]');
            
            history.unshift({
                tool: toolName,
                input: input,
                result: result,
                timestamp: new Date().toISOString()
            });
            
            // Keep last 20 items
            history = history.slice(0, 20);
            localStorage.setItem('tooldexo_history', JSON.stringify(history));
            updateHistoryPanel();
        }
        
        function updateHistoryPanel() {
            const history = JSON.parse(localStorage.getItem('tooldexo_history') || '[]');
            const content = document.getElementById('historyContent');
            
            if (history.length === 0) {
                content.innerHTML = '<div style="padding: 20px; text-align: center; color: #718096;">No calculations yet. Start using tools!</div>';
                return;
            }
            
            content.innerHTML = '';
            
            history.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'history-item';
                
                const timeAgo = getTimeAgo(new Date(item.timestamp));
                
                div.innerHTML = `
                    <div class="history-tool-name">${item.tool}</div>
                    <div class="history-result">${item.result}</div>
                    <div class="history-time">${timeAgo}</div>
                `;
                
                content.appendChild(div);
            });
        }
        
        function toggleHistory() {
            const panel = document.getElementById('historyPanel');
            panel.classList.toggle('open');
            
            if (panel.classList.contains('open')) {
                updateHistoryPanel();
                
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'view_history', {
                        'event_category': 'engagement'
                    });
                }
            }
        }
        
        function clearHistory() {
            if (confirm('Clear all calculation history?')) {
                localStorage.removeItem('tooldexo_history');
                updateHistoryPanel();
                showToast('History cleared!');
                
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'clear_history', {
                        'event_category': 'engagement'
                    });
                }
            }
        }
        
        function getTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            
            if (seconds < 60) return 'Just now';
            const minutes = Math.floor(seconds / 60);
            if (minutes < 60) return `${minutes}m ago`;
            const hours = Math.floor(minutes / 60);
            if (hours < 24) return `${hours}h ago`;
            const days = Math.floor(hours / 24);
            if (days < 7) return `${days}d ago`;
            return date.toLocaleDateString();
        }
        
        // FEATURE 4: COPY TO CLIPBOARD
        function copyToClipboard(text, button) {
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = '‚úÖ Copied!';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('copied');
                }, 2000);
                
                showToast('Copied to clipboard! üìã');
                
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'copy_result', {
                        'event_category': 'engagement'
                    });
                }
            });
        }
        
        // FEATURE 5: SHARE FUNCTIONALITY
        function shareResult(toolName, result) {
            const shareData = {
                title: `${toolName} Result`,
                text: `Check out my result: ${result}`,
                url: window.location.href
            };
            
            if (navigator.share) {
                navigator.share(shareData).then(() => {
                    showToast('Shared successfully! üéâ');
                    
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'share', {
                            'event_category': 'engagement',
                            'tool_name': toolName
                        });
                    }
                }).catch(err => {
                    console.log('Share failed:', err);
                });
            } else {
                // Fallback: copy link
                copyToClipboard(window.location.href, event.target);
            }
        }
        
        // FEATURE 6: TOAST NOTIFICATIONS
        function showToast(message, duration = 3000) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }
        
        // FEATURE 7: RELATED TOOLS SUGGESTIONS
        const relatedToolsMap = {
            'bmi-calculator': ['calorie-calculator', 'bodyfat-calculator', 'age-calculator'],
            'calorie-calculator': ['bmi-calculator', 'bodyfat-calculator'],
            'mortgage-calculator': ['loan-calculator', 'tax-calculator', 'compound-interest'],
            'loan-calculator': ['mortgage-calculator', 'compound-interest', 'salary-calculator'],
            'currency-converter': ['unit-converter', 'timezone-converter', 'filesize-converter'],
            'word-counter': ['character-counter', 'case-converter', 'text-diff'],
            'password-generator': ['random-number', 'base64-tool', 'hash-generator'],
            'percentage-calc': ['tip-calculator', 'tax-calculator', 'grade-calculator'],
            'json-formatter': ['base64-tool', 'hash-generator', 'markdown-editor'],
            'compound-interest': ['mortgage-calculator', 'loan-calculator', 'salary-calculator'],
            'salary-calculator': ['loan-calculator', 'mortgage-calculator', 'compound-interest'],
            'hash-generator': ['password-generator', 'base64-tool', 'json-formatter'],
            'bodyfat-calculator': ['bmi-calculator', 'calorie-calculator', 'age-calculator']
        };
        
        function showRelatedTools(toolId) {
            const related = relatedToolsMap[toolId];
            if (!related || related.length === 0) return '';
            
            let html = '<div class="related-tools"><h3>üí° You might also like:</h3><div>';
            
            related.forEach(relatedId => {
                const tool = tools.find(t => t.id === relatedId);
                if (tool) {
                    html += `<button class="related-tool-btn" onclick="showTool('${relatedId}', this); document.getElementById('toolSearch').value = ''; searchTools();">${tool.name}</button>`;
                }
            });
            
            html += '</div></div>';
            return html;
        }
        
        // Initialize on page load
        // Initialize on page load - try multiple events to ensure it works
        window.addEventListener('load', function() {
            console.log('%cüéâ WINDOW LOAD EVENT FIRED!', 'background: green; color: white; font-size: 18px; padding: 10px;');
            console.log('About to call populateToolButtons...');
            updateFavoritesSection();
            updateHistoryPanel();
            populateToolButtons();
            console.log('‚úÖ Window load complete');
        });
        
        // Backup: Also try on DOMContentLoaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOMContentLoaded fired');
            setTimeout(function() {
                if (document.getElementById('toolButtons').children.length === 0) {
                    console.log('Buttons not populated, trying again...');
                    populateToolButtons();
                }
            }, 100);
        });

        // Populate tool buttons
        function populateToolButtons() {
            console.log('%c=== POPULATE TOOL BUTTONS CALLED ===', 'background: blue; color: white; font-size: 16px; padding: 10px;');
            const container = document.getElementById('toolButtons');
            console.log('Container element:', container);
            console.log('Number of tools in array:', tools.length);
            
            if (!container) {
                console.error('%c‚ùå CRITICAL: toolButtons container NOT FOUND!', 'background: red; color: white; font-size: 18px; padding: 10px;');
                alert('ERROR: Tool buttons container not found! Check HTML.');
                return;
            }
            
            console.log('Clearing existing buttons...');
            container.innerHTML = ''; // Clear existing buttons
            
            console.log('Adding buttons...');
            tools.forEach((tool, index) => {
                const btn = document.createElement('button');
                btn.textContent = tool.name;
                btn.className = index === 0 ? 'active' : '';
                btn.onclick = function() { showTool(tool.id, this); };
                btn.dataset.category = tool.category;
                container.appendChild(btn);
                
                if (index < 5) {  // Log first 5 only
                    console.log(`  ‚úÖ Button ${index + 1}: ${tool.name} [${tool.category}]`);
                }
            });
            
            console.log('%c‚úÖ BUTTONS ADDED: ' + container.children.length, 'background: green; color: white; font-size: 16px; padding: 10px;');
            
            // Make sure all buttons are visible by default (no hidden class)
            console.log('Calling filterTools("all") to show all buttons...');
            filterTools('all');
            console.log('%c=== POPULATE COMPLETE ===', 'background: blue; color: white; font-size: 16px; padding: 10px;');
        }

        // Filter tools by category
        function filterTools(category) {
            console.log('%cüîç FILTER TOOLS CALLED', 'background: purple; color: white; font-size: 14px; padding: 5px;');
            console.log('  Category:', category);
            const buttons = document.querySelectorAll('.tool-nav-buttons button');
            const categoryBtns = document.querySelectorAll('.category-btn');
            
            console.log('  Found buttons:', buttons.length);
            
            // Debug: Check first 5 buttons' categories
            console.log('  First 5 buttons:');
            buttons.forEach((btn, index) => {
                if (index < 5) {
                    console.log(`    ${index}: ${btn.textContent} | category="${btn.dataset.category}"`);
                }
            });
            
            categoryBtns.forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Set active category button
            categoryBtns.forEach(btn => {
                const btnText = btn.textContent.toLowerCase();
                if ((category === 'all' && btnText.includes('all tools')) ||
                    (category !== 'all' && btnText.includes(category))) {
                    btn.classList.add('active');
                }
            });
            
            // Filter tool buttons - use hidden class to maintain grid
            let visibleCount = 0;
            let hiddenCount = 0;
            
            // DEBUG MODE: Set to false to actually hide buttons
            const DEBUG_VISUAL = false; // TURNED OFF - buttons will hide normally
            
            buttons.forEach((btn, index) => {
                const btnCategory = btn.dataset.category;
                
                if (index < 3) {  // Log first 3
                    console.log(`    Button ${index}: "${btn.textContent}" | Category: ${btnCategory}`);
                }
                
                if (category === 'all' || btnCategory === category) {
                    btn.classList.remove('hidden');
                    btn.style.border = ''; // Clear debug styling
                    btn.style.opacity = '';
                    visibleCount++;
                } else {
                    btn.classList.add('hidden'); // Actually hide the button
                    hiddenCount++;
                    btn.style.border = ''; // Clear debug styling
                    btn.style.opacity = '';
                }
            });
            
            console.log(`  ‚úÖ Visible: ${visibleCount}, Hidden: ${hiddenCount}`);
            
            // Update visual status indicator
            const categoryNames = {
                'all': 'All Tools',
                'text': 'Text Tools',
                'calc': 'Calculators',
                'converter': 'Converters',
                'generator': 'Generators',
                'dev': 'Developer Tools'
            };
            const categoryIcons = {
                'all': 'üìã',
                'text': 'üìù',
                'calc': 'üßÆ',
                'converter': 'üîÑ',
                'generator': '‚ú®',
                'dev': 'üíª'
            };
            
            const statusDiv = document.getElementById('filterStatus');
            if (statusDiv) {
                const icon = categoryIcons[category] || 'üìã';
                const name = categoryNames[category] || 'Tools';
                statusDiv.textContent = `${icon} Showing ${visibleCount} ${name}`;
                console.log('  ‚úÖ Status updated:', statusDiv.textContent);
            } else {
                console.warn('  ‚ö†Ô∏è filterStatus div not found!');
            }
        }

        // Tool Navigation
        function showTool(toolId, buttonElement) {
            // Hide all tools
            document.querySelectorAll('.tool-card').forEach(card => card.classList.remove('active'));
            document.querySelectorAll('.tool-nav-buttons button').forEach(btn => btn.classList.remove('active'));
            
            // Show selected tool
            const toolCard = document.getElementById(toolId);
            if (toolCard) {
                toolCard.classList.add('active');
            }
            
            // Highlight button if provided
            if (buttonElement) {
                buttonElement.classList.add('active');
            }
            
            // Scroll to tool
            if (toolCard) {
                toolCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
            
            // Show mobile back button
            document.body.classList.add('viewing-tool');
            
            // Update bottom bar
            updateBottomBar('home');
        }
        
        // ========================================
        // MOBILE UX FUNCTIONS
        // ========================================
        
        // Mobile Menu Toggle
        function toggleMobileMenu() {
            const overlay = document.querySelector('.mobile-nav-overlay');
            const menu = document.querySelector('.mobile-nav-menu');
            
            overlay.classList.toggle('active');
            menu.classList.toggle('active');
            
            // Track
            if (typeof gtag !== 'undefined') {
                gtag('event', 'mobile_menu_toggle', {
                    'event_category': 'mobile_ux'
                });
            }
        }
        
        // Filter Tools from Mobile Menu
        function filterToolsMobile(category, element) {
            console.log('%cüì± MOBILE FILTER CALLED!', 'background: #ff69b4; color: white; font-size: 16px; padding: 10px;');
            console.log('  Category:', category);
            console.log('  Element:', element);
            
            console.log('  ‚Üí Calling filterTools...');
            filterTools(category);
            
            console.log('  ‚Üí Closing mobile menu...');
            toggleMobileMenu();
            
            // Update active state in mobile menu
            document.querySelectorAll('.mobile-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            if (element) {
                element.classList.add('active');
                console.log('  ‚úÖ Active state set on:', element.textContent);
            }
            
            // Scroll to tool navigation
            setTimeout(() => {
                const toolNav = document.querySelector('.tool-nav');
                if (toolNav) {
                    console.log('  ‚úÖ Scrolling to tools...');
                    toolNav.scrollIntoView({ behavior: 'smooth', block: 'start' });
                } else {
                    console.error('  ‚ùå .tool-nav not found!');
                }
            }, 300);
            
            console.log('üì± Mobile filter complete!');
        }
        
        // Mobile Back to Home
        function mobileBackToHome() {
            // Hide all tools
            document.querySelectorAll('.tool-card').forEach(card => card.classList.remove('active'));
            document.querySelectorAll('.tool-nav-buttons button').forEach(btn => btn.classList.remove('active'));
            
            // Remove viewing state
            document.body.classList.remove('viewing-tool');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // Show first tool or none
            updateBottomBar('home');
            
            // Track
            if (typeof gtag !== 'undefined') {
                gtag('event', 'mobile_back_button', {
                    'event_category': 'mobile_ux'
                });
            }
        }
        
        // Mobile Bottom Bar Actions
        function mobileBottomAction(action, element) {
            // Update active state
            document.querySelectorAll('.bottom-bar-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            if (element) {
                element.classList.add('active');
            }
            
            switch(action) {
                case 'home':
                    mobileBackToHome();
                    break;
                case 'favorites':
                    scrollToFavorites();
                    break;
                case 'history':
                    toggleHistory();
                    break;
                case 'search':
                    focusSearch();
                    break;
            }
            
            // Track
            if (typeof gtag !== 'undefined') {
                gtag('event', 'mobile_bottom_bar', {
                    'event_category': 'mobile_ux',
                    'action': action
                });
            }
        }
        
        // Helper: Update Bottom Bar Active State
        function updateBottomBar(activeBtn) {
            document.querySelectorAll('.bottom-bar-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            const btn = document.querySelector(`.bottom-bar-btn[onclick*="${activeBtn}"]`);
            if (btn) btn.classList.add('active');
        }
        
        // Helper: Scroll to Favorites
        function scrollToFavorites() {
            const favSection = document.querySelector('.favorites-section');
            if (favSection && favSection.style.display !== 'none') {
                favSection.scrollIntoView({ behavior: 'smooth' });
            } else {
                showToast('No favorites yet! Star your favorite tools ‚≠ê');
            }
        }
        
        // Helper: Focus Search
        function focusSearch() {
            console.log('%cüîç FOCUS SEARCH CALLED (from bottom bar)', 'background: #4CAF50; color: white; font-size: 14px; padding: 8px;');
            const searchInput = document.getElementById('toolSearch');
            
            if (searchInput) {
                console.log('  ‚úÖ Search input found');
                
                // Scroll to search first
                searchInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // Focus with delay to ensure scroll completes
                setTimeout(() => {
                    searchInput.focus();
                    console.log('  ‚úÖ Search input focused');
                    
                    // On mobile, trigger keyboard
                    if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
                        searchInput.click();
                        console.log('  üì± Mobile: Triggered click for keyboard');
                    }
                }, 300);
            } else {
                console.error('  ‚ùå Search input NOT found!');
                alert('Search input not found. Check console.');
            }
        }
        
        // Swipe Gesture Support
        let touchStartX = 0;
        let touchEndX = 0;
        let currentToolIndex = 0;
        
        function handleSwipeGesture() {
            const swipeThreshold = 100;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                const activeCard = document.querySelector('.tool-card.active');
                if (!activeCard) return;
                
                const allTools = Array.from(document.querySelectorAll('.tool-card'));
                currentToolIndex = allTools.indexOf(activeCard);
                
                if (diff > 0) {
                    // Swiped left - next tool
                    if (currentToolIndex < allTools.length - 1) {
                        showSwipeIndicator('right');
                        setTimeout(() => {
                            const nextTool = allTools[currentToolIndex + 1];
                            showTool(nextTool.id);
                        }, 200);
                    }
                } else {
                    // Swiped right - previous tool
                    if (currentToolIndex > 0) {
                        showSwipeIndicator('left');
                        setTimeout(() => {
                            const prevTool = allTools[currentToolIndex - 1];
                            showTool(prevTool.id);
                        }, 200);
                    }
                }
            }
        }
        
        function showSwipeIndicator(direction) {
            const indicator = document.getElementById(`swipeIndicator${direction === 'left' ? 'Left' : 'Right'}`);
            if (indicator) {
                indicator.style.display = 'block';
                setTimeout(() => {
                    indicator.style.display = 'none';
                }, 500);
            }
        }
        
        // Initialize Touch Events
        if (window.innerWidth <= 768) {
            document.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            document.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipeGesture();
            });
        }

        // TOOL 1: Word Counter
        const wordCountText = document.getElementById('wordCountText');
        wordCountText.addEventListener('input', updateWordCount);

        function updateWordCount() {
            const text = wordCountText.value;
            const words = text.trim().split(/\s+/).filter(word => word.length > 0);
            const chars = text.length;
            const charsNoSpace = text.replace(/\s/g, '').length;
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0).length;
            const paragraphs = text.split(/\n+/).filter(p => p.trim().length > 0).length;
            const readingTime = Math.ceil(words.length / 200);

            document.getElementById('wordCount').textContent = words.length;
            document.getElementById('charCount').textContent = chars;
            document.getElementById('charCountNoSpace').textContent = charsNoSpace;
            document.getElementById('sentenceCount').textContent = sentences;
            document.getElementById('paragraphCount').textContent = paragraphs;
            document.getElementById('readingTime').textContent = readingTime;
        }

        // TOOL 2: Case Converter
        function convertCase(type) {
            const textarea = document.getElementById('caseText');
            let text = textarea.value;
            
            switch(type) {
                case 'upper':
                    textarea.value = text.toUpperCase();
                    break;
                case 'lower':
                    textarea.value = text.toLowerCase();
                    break;
                case 'title':
                    textarea.value = text.toLowerCase().split(' ')
                        .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                        .join(' ');
                    break;
                case 'sentence':
                    textarea.value = text.toLowerCase()
                        .replace(/(^\w|\.\s+\w)/gm, letter => letter.toUpperCase());
                    break;
            }
        }

        // TOOL 3: Percentage Calculator
        function calculatePercentage() {
            const percent = parseFloat(document.getElementById('percentValue').value);
            const of = parseFloat(document.getElementById('percentOf').value);
            
            if (isNaN(percent) || isNaN(of)) {
                alert('Please enter valid numbers');
                return;
            }
            
            const result = (percent / 100) * of;
            document.getElementById('percentAnswer').textContent = result.toFixed(2);
            document.getElementById('percentResult').style.display = 'block';
        }

        // TOOL 4: Unit Converter
        const units = {
            length: {
                meter: 1, kilometer: 0.001, centimeter: 100, millimeter: 1000,
                mile: 0.000621371, yard: 1.09361, foot: 3.28084, inch: 39.3701
            },
            weight: {
                kilogram: 1, gram: 1000, milligram: 1000000,
                pound: 2.20462, ounce: 35.274, ton: 0.001
            },
            temperature: {
                celsius: { toCelsius: c => c, fromCelsius: c => c },
                fahrenheit: { toCelsius: f => (f - 32) * 5/9, fromCelsius: c => (c * 9/5) + 32 },
                kelvin: { toCelsius: k => k - 273.15, fromCelsius: c => c + 273.15 }
            }
        };

        function updateUnitOptions() {
            const unitType = document.getElementById('unitType').value;
            const fromUnit = document.getElementById('fromUnit');
            const toUnit = document.getElementById('toUnit');
            
            fromUnit.innerHTML = '';
            toUnit.innerHTML = '';
            
            const unitNames = Object.keys(units[unitType]);
            unitNames.forEach(unit => {
                fromUnit.innerHTML += `<option value="${unit}">${unit}</option>`;
                toUnit.innerHTML += `<option value="${unit}">${unit}</option>`;
            });
            
            toUnit.selectedIndex = 1;
        }

        function convertUnits() {
            const unitType = document.getElementById('unitType').value;
            const fromValue = parseFloat(document.getElementById('fromValue').value);
            const fromUnit = document.getElementById('fromUnit').value;
            const toUnit = document.getElementById('toUnit').value;
            
            if (isNaN(fromValue)) {
                document.getElementById('toValue').value = '';
                return;
            }
            
            let result;
            if (unitType === 'temperature') {
                const celsius = units.temperature[fromUnit].toCelsius(fromValue);
                result = units.temperature[toUnit].fromCelsius(celsius);
            } else {
                const baseValue = fromValue / units[unitType][fromUnit];
                result = baseValue * units[unitType][toUnit];
            }
            
            document.getElementById('toValue').value = result.toFixed(4);
        }

        updateUnitOptions();

        // TOOL 5: Age Calculator
        function calculateAge() {
            const birthDate = new Date(document.getElementById('birthDate').value);
            if (isNaN(birthDate)) {
                alert('Please select a valid birth date');
                return;
            }
            
            const today = new Date();
            let years = today.getFullYear() - birthDate.getFullYear();
            let months = today.getMonth() - birthDate.getMonth();
            let days = today.getDate() - birthDate.getDate();
            
            if (days < 0) {
                months--;
                days += new Date(today.getFullYear(), today.getMonth(), 0).getDate();
            }
            
            if (months < 0) {
                years--;
                months += 12;
            }
            
            const totalDays = Math.floor((today - birthDate) / (1000 * 60 * 60 * 24));
            const totalHours = totalDays * 24;
            const totalMinutes = totalHours * 60;
            
            document.getElementById('ageYears').textContent = years;
            document.getElementById('ageMonths').textContent = months;
            document.getElementById('ageDays').textContent = days;
            document.getElementById('totalDays').textContent = totalDays.toLocaleString();
            document.getElementById('totalHours').textContent = totalHours.toLocaleString();
            document.getElementById('totalMinutes').textContent = totalMinutes.toLocaleString();
            document.getElementById('ageResult').style.display = 'block';
        }

        // TOOL 6: Password Generator
        function generatePassword() {
            const length = document.getElementById('passwordLength').value;
            const includeUpper = document.getElementById('includeUpper').checked;
            const includeLower = document.getElementById('includeLower').checked;
            const includeNumbers = document.getElementById('includeNumbers').checked;
            const includeSymbols = document.getElementById('includeSymbols').checked;
            
            let chars = '';
            if (includeUpper) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if (includeLower) chars += 'abcdefghijklmnopqrstuvwxyz';
            if (includeNumbers) chars += '0123456789';
            if (includeSymbols) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';
            
            if (chars === '') {
                alert('Please select at least one character type');
                return;
            }
            
            let password = '';
            for (let i = 0; i < length; i++) {
                password += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            document.getElementById('generatedPassword').textContent = password;
            document.getElementById('passwordResult').style.display = 'block';
        }

        function copyPassword() {
            const password = document.getElementById('generatedPassword').textContent;
            navigator.clipboard.writeText(password);
            alert('Password copied to clipboard!');
        }

        // TOOL 7: QR Code Generator
        function generateQR() {
            const text = document.getElementById('qrText').value;
            if (!text) {
                alert('Please enter text or URL');
                return;
            }
            
            const canvas = document.getElementById('qrcode');
            const ctx = canvas.getContext('2d');
            const size = 300;
            canvas.width = size;
            canvas.height = size;
            
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, size, size);
            ctx.fillStyle = 'black';
            
            const cellSize = size / 25;
            for (let i = 0; i < 25; i++) {
                for (let j = 0; j < 25; j++) {
                    if ((i + j + text.length) % 2 === 0) {
                        ctx.fillRect(i * cellSize, j * cellSize, cellSize, cellSize);
                    }
                }
            }
            
            document.getElementById('qrContainer').style.display = 'block';
        }

        function downloadQR() {
            const canvas = document.getElementById('qrcode');
            const link = document.createElement('a');
            link.download = 'qrcode.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        // TOOL 8: Color Picker
        function updateColorCodes() {
            const color = document.getElementById('colorInput').value;
            const display = document.getElementById('colorDisplay');
            
            display.style.backgroundColor = color;
            document.getElementById('hexCode').textContent = color.toUpperCase();
            
            const r = parseInt(color.substr(1, 2), 16);
            const g = parseInt(color.substr(3, 2), 16);
            const b = parseInt(color.substr(5, 2), 16);
            
            document.getElementById('rgbCode').textContent = `rgb(${r}, ${g}, ${b})`;
            
            const hsl = rgbToHsl(r, g, b);
            document.getElementById('hslCode').textContent = `hsl(${hsl[0]}, ${hsl[1]}%, ${hsl[2]}%)`;
        }

        function rgbToHsl(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }

            return [Math.round(h * 360), Math.round(s * 100), Math.round(l * 100)];
        }

        updateColorCodes();

        // TOOL 9: Text Compare
        function compareTexts() {
            const original = document.getElementById('originalText').value;
            const modified = document.getElementById('modifiedText').value;
            
            if (!original || !modified) {
                alert('Please enter text in both fields');
                return;
            }
            
            const originalWords = original.split(/\s+/);
            const modifiedWords = modified.split(/\s+/);
            
            let output = '<div style="line-height: 2;">';
            output += '<strong>Comparison Result:</strong><br>';
            output += `Original: ${originalWords.length} words | Modified: ${modifiedWords.length} words<br><br>`;
            
            const maxLength = Math.max(originalWords.length, modifiedWords.length);
            for (let i = 0; i < maxLength; i++) {
                if (originalWords[i] !== modifiedWords[i]) {
                    if (originalWords[i]) {
                        output += `<span style="background: #fecaca; padding: 2px 4px; border-radius: 3px;">${originalWords[i]}</span> `;
                    }
                    if (modifiedWords[i]) {
                        output += `<span style="background: #bbf7d0; padding: 2px 4px; border-radius: 3px;">${modifiedWords[i]}</span> `;
                    }
                } else {
                    output += `${originalWords[i]} `;
                }
            }
            output += '</div>';
            
            document.getElementById('diffOutput').innerHTML = output;
            document.getElementById('diffResult').style.display = 'block';
        }

        // TOOL 10: Lorem Ipsum Generator
        const loremParagraphs = [
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",
            "Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
            "Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.",
            "Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet.",
            "At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident.",
            "Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae sint et molestiae non recusandae."
        ];

        function generateLorem() {
            const count = parseInt(document.getElementById('loremCount').value);
            let text = '';
            
            for (let i = 0; i < count; i++) {
                text += loremParagraphs[i % loremParagraphs.length] + '\n\n';
            }
            
            document.getElementById('loremText').textContent = text.trim();
            document.getElementById('loremResult').style.display = 'block';
        }

        function copyLorem() {
            const text = document.getElementById('loremText').textContent;
            navigator.clipboard.writeText(text);
            alert('Lorem ipsum text copied to clipboard!');
        }

        // TOOL 11: BMI Calculator
        function calculateBMI() {
            const height = parseFloat(document.getElementById('bmiHeight').value);
            const weight = parseFloat(document.getElementById('bmiWeight').value);
            
            if (isNaN(height) || isNaN(weight) || height <= 0 || weight <= 0) {
                alert('Please enter valid height and weight');
                return;
            }
            
            const heightM = height / 100;
            const bmi = weight / (heightM * heightM);
            
            let category, categoryClass, advice;
            
            if (bmi < 18.5) {
                category = 'Underweight';
                categoryClass = 'bmi-underweight';
                advice = 'Consider consulting with a healthcare provider about healthy weight gain strategies.';
            } else if (bmi < 25) {
                category = 'Normal Weight';
                categoryClass = 'bmi-normal';
                advice = 'Great! Maintain your healthy lifestyle with balanced diet and regular exercise.';
            } else if (bmi < 30) {
                category = 'Overweight';
                categoryClass = 'bmi-overweight';
                advice = 'Consider a balanced diet and increased physical activity. Consult a healthcare provider.';
            } else {
                category = 'Obese';
                categoryClass = 'bmi-obese';
                advice = 'We recommend consulting with a healthcare provider for personalized guidance.';
            }
            
            document.getElementById('bmiValue').textContent = bmi.toFixed(1);
            document.getElementById('bmiCategory').textContent = category;
            document.getElementById('bmiCategory').className = 'bmi-category ' + categoryClass;
            document.getElementById('bmiAdvice').textContent = advice;
            document.getElementById('bmiResult').style.display = 'block';
            
            // Save to history
            saveToHistory('BMI Calculator', `${height}cm, ${weight}kg`, `BMI: ${bmi.toFixed(1)} (${category})`);
            
            // Show related tools
            document.getElementById('bmi-related').innerHTML = showRelatedTools('bmi-calculator');
            document.getElementById('bmi-related').style.display = 'block';
            
            // Track calculation
            if (typeof gtag !== 'undefined') {
                gtag('event', 'calculate', {
                    'event_category': 'tool_usage',
                    'tool_name': 'bmi_calculator'
                });
            }
        }

        // TOOL 12: Tip Calculator
        function calculateTip() {
            const bill = parseFloat(document.getElementById('billAmount').value);
            const tipPercent = parseFloat(document.getElementById('tipPercent').value);
            const numPeople = parseInt(document.getElementById('numPeople').value);
            
            if (isNaN(bill) || isNaN(tipPercent) || isNaN(numPeople) || bill <= 0 || numPeople <= 0) {
                alert('Please enter valid values');
                return;
            }
            
            const tipAmount = bill * (tipPercent / 100);
            const total = bill + tipAmount;
            const perPerson = total / numPeople;
            
            document.getElementById('tipAmount').textContent = '$' + tipAmount.toFixed(2);
            document.getElementById('totalBill').textContent = '$' + total.toFixed(2);
            document.getElementById('perPerson').textContent = '$' + perPerson.toFixed(2);
            document.getElementById('tipResult').style.display = 'block';
        }

        // TOOL 13: Loan Calculator
        function calculateLoan() {
            const principal = parseFloat(document.getElementById('loanAmount').value);
            const annualRate = parseFloat(document.getElementById('interestRate').value);
            const months = parseInt(document.getElementById('loanTerm').value);
            
            if (isNaN(principal) || isNaN(annualRate) || isNaN(months) || principal <= 0 || months <= 0) {
                alert('Please enter valid values');
                return;
            }
            
            const monthlyRate = annualRate / 100 / 12;
            const monthlyPayment = principal * (monthlyRate * Math.pow(1 + monthlyRate, months)) / (Math.pow(1 + monthlyRate, months) - 1);
            const totalPayment = monthlyPayment * months;
            const totalInterest = totalPayment - principal;
            
            document.getElementById('monthlyPayment').textContent = '$' + monthlyPayment.toFixed(2);
            document.getElementById('totalPayment').textContent = '$' + totalPayment.toFixed(2);
            document.getElementById('totalInterest').textContent = '$' + totalInterest.toFixed(2);
            document.getElementById('loanResult').style.display = 'block';
        }

        // TOOL 14: Time Zone Converter
        function convertTimezone() {
            const sourceTime = document.getElementById('sourceTime').value;
            if (!sourceTime) {
                alert('Please select a date and time');
                return;
            }
            
            const fromTz = parseInt(document.getElementById('fromTimezone').value);
            const toTz = parseInt(document.getElementById('toTimezone').value);
            
            const date = new Date(sourceTime);
            const utcTime = date.getTime() - (fromTz * 60 * 60 * 1000);
            const targetTime = new Date(utcTime + (toTz * 60 * 60 * 1000));
            
            document.getElementById('convertedTime').textContent = targetTime.toLocaleString();
            document.getElementById('timezoneResult').style.display = 'block';
        }

        // TOOL 15: Markdown Editor
        function updateMarkdown() {
            const markdown = document.getElementById('markdownInput').value;
            const preview = document.getElementById('markdownPreview');
            
            // Simple markdown parsing
            let html = markdown
                .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                .replace(/^# (.*$)/gim, '<h1>$1</h1>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/^- (.*$)/gim, '<li>$1</li>')
                .replace(/\n/g, '<br>');
            
            preview.innerHTML = html;
        }

        // TOOL 16: JSON Formatter
        function formatJSON() {
            try {
                const json = JSON.parse(document.getElementById('jsonInput').value);
                const formatted = JSON.stringify(json, null, 2);
                document.getElementById('jsonOutput').textContent = formatted;
                document.getElementById('jsonResult').style.display = 'block';
            } catch (e) {
                alert('Invalid JSON: ' + e.message);
            }
        }

        function minifyJSON() {
            try {
                const json = JSON.parse(document.getElementById('jsonInput').value);
                const minified = JSON.stringify(json);
                document.getElementById('jsonOutput').textContent = minified;
                document.getElementById('jsonResult').style.display = 'block';
            } catch (e) {
                alert('Invalid JSON: ' + e.message);
            }
        }

        // TOOL 17: Base64 Encoder/Decoder
        function encodeBase64() {
            const text = document.getElementById('base64Input').value;
            if (!text) {
                alert('Please enter text to encode');
                return;
            }
            const encoded = btoa(text);
            document.getElementById('base64Output').textContent = encoded;
            document.getElementById('base64Result').style.display = 'block';
        }

        function decodeBase64() {
            const text = document.getElementById('base64Input').value;
            if (!text) {
                alert('Please enter Base64 to decode');
                return;
            }
            try {
                const decoded = atob(text);
                document.getElementById('base64Output').textContent = decoded;
                document.getElementById('base64Result').style.display = 'block';
            } catch (e) {
                alert('Invalid Base64 string');
            }
        }

        function copyBase64() {
            const text = document.getElementById('base64Output').textContent;
            navigator.clipboard.writeText(text);
            alert('Result copied to clipboard!');
        }

        // TOOL 20: Currency Converter (with static rates)
        // Currency Converter with Live API
        let exchangeRates = {};
        let lastFetchTime = 0;
        const CACHE_DURATION = 3600000; // 1 hour in milliseconds

        // Fetch live exchange rates from Frankfurter API (FREE!)
        async function fetchExchangeRates() {
            const now = Date.now();
            
            // Use cached rates if less than 1 hour old
            if (Object.keys(exchangeRates).length > 0 && (now - lastFetchTime) < CACHE_DURATION) {
                return;
            }
            
            try {
                const response = await fetch('https://api.frankfurter.app/latest?from=USD');
                const data = await response.json();
                
                // Set USD as base (rate 1)
                exchangeRates = { USD: 1, ...data.rates };
                lastFetchTime = now;
                
                console.log('‚úÖ Exchange rates updated:', new Date().toLocaleString());
            } catch (error) {
                console.error('Currency API error:', error);
                
                // Fallback rates if API fails
                exchangeRates = {
                    USD: 1,
                    EUR: 0.92,
                    GBP: 0.79,
                    JPY: 149.50,
                    CNY: 7.24,
                    AUD: 1.52,
                    CAD: 1.36,
                    INR: 83.12,
                    CHF: 0.88,
                    KRW: 1329.50,
                    MXN: 17.08,
                    BRL: 4.97,
                    ZAR: 18.23,
                    SGD: 1.34,
                    NZD: 1.63,
                    SEK: 10.37,
                    NOK: 10.68,
                    DKK: 6.89,
                    PLN: 3.95,
                    THB: 34.87,
                    IDR: 15678.00,
                    HUF: 353.40,
                    CZK: 22.85,
                    ILS: 3.64,
                    PHP: 56.23,
                    AED: 3.67,
                    TRY: 32.65,
                    HKD: 7.82,
                    MYR: 4.47,
                    RUB: 91.50
                };
            }
        }

        // Initialize exchange rates on page load
        fetchExchangeRates();

        async function convertCurrency() {
            const amount = parseFloat(document.getElementById('currencyAmount').value);
            const from = document.getElementById('fromCurrency').value;
            const to = document.getElementById('toCurrency').value;
            
            if (isNaN(amount) || amount < 0) {
                document.getElementById('currencyResult').style.display = 'none';
                return;
            }
            
            // Fetch latest rates if needed
            await fetchExchangeRates();
            
            // Convert via USD as base currency
            const usdAmount = amount / exchangeRates[from];
            const result = usdAmount * exchangeRates[to];
            
            const resultText = `${amount.toFixed(2)} ${from} = ${result.toFixed(2)} ${to}`;
            document.getElementById('currencyOutput').textContent = resultText;
            document.getElementById('currencyResult').style.display = 'block';
            
            // Save to history
            saveToHistory('Currency Converter', `${amount} ${from} ‚Üí ${to}`, resultText);
            
            // Show related tools
            document.getElementById('currency-converter-related').innerHTML = showRelatedTools('currency-converter');
            document.getElementById('currency-converter-related').style.display = 'block';
            
            // Track
            if (typeof gtag !== 'undefined') {
                gtag('event', 'convert', {
                    'event_category': 'tool_usage',
                    'tool_name': 'currency_converter'
                });
            }
        }

                // TOOL 19: Image Resizer Info
        function calculateImageSize() {
            const origWidth = parseFloat(document.getElementById('imgOrigWidth').value);
            const origHeight = parseFloat(document.getElementById('imgOrigHeight').value);
            const newWidth = parseFloat(document.getElementById('imgNewWidth').value);
            const maintainRatio = document.getElementById('maintainRatio').checked;
            
            if (isNaN(origWidth) || isNaN(origHeight) || isNaN(newWidth)) {
                document.getElementById('imageResult').style.display = 'none';
                return;
            }
            
            let newHeight;
            if (maintainRatio) {
                const ratio = origHeight / origWidth;
                newHeight = Math.round(newWidth * ratio);
            } else {
                newHeight = origHeight;
            }
            
            const aspectRatio = (origWidth / origHeight).toFixed(2);
            const scaleFactor = (newWidth / origWidth * 100).toFixed(1);
            
            document.getElementById('newDimensions').textContent = `${newWidth} x ${newHeight} px`;
            document.getElementById('aspectRatio').textContent = `${aspectRatio}:1`;
            document.getElementById('scaleFactor').textContent = `${scaleFactor}%`;
            document.getElementById('imageResult').style.display = 'block';
        }

        // TOOL 20: Calorie Calculator
        function calculateCalories() {
            const weight = parseFloat(document.getElementById('calWeight').value);
            const height = parseFloat(document.getElementById('calHeight').value);
            const age = parseFloat(document.getElementById('calAge').value);
            const gender = document.getElementById('calGender').value;
            const activity = parseFloat(document.getElementById('activityLevel').value);
            
            if (isNaN(weight) || isNaN(height) || isNaN(age)) {
                alert('Please fill in all fields');
                return;
            }
            
            // Calculate BMR (Mifflin-St Jeor Equation)
            let bmr;
            if (gender === 'male') {
                bmr = 10 * weight + 6.25 * height - 5 * age + 5;
            } else {
                bmr = 10 * weight + 6.25 * height - 5 * age - 161;
            }
            
            // Calculate TDEE
            const tdee = Math.round(bmr * activity);
            const loss = Math.round(tdee - 500);
            const gain = Math.round(tdee + 500);
            
            document.getElementById('tdeeValue').textContent = tdee + ' calories';
            document.getElementById('weightLoss').textContent = loss;
            document.getElementById('maintenance').textContent = tdee;
            document.getElementById('weightGain').textContent = gain;
            document.getElementById('calorieResult').style.display = 'block';
        }

        // TOOL 21: Mortgage Calculator
        function calculateMortgage() {
            const homePrice = parseFloat(document.getElementById('homePrice').value);
            const downPayment = parseFloat(document.getElementById('downPayment').value);
            const rate = parseFloat(document.getElementById('mortgageRate').value);
            const years = parseInt(document.getElementById('loanTermYears').value);
            
            if (isNaN(homePrice) || isNaN(downPayment) || isNaN(rate)) {
                alert('Please fill in all fields');
                return;
            }
            
            const loanAmount = homePrice - downPayment;
            const monthlyRate = rate / 100 / 12;
            const numPayments = years * 12;
            
            const monthlyPayment = loanAmount * (monthlyRate * Math.pow(1 + monthlyRate, numPayments)) / (Math.pow(1 + monthlyRate, numPayments) - 1);
            const totalPaid = monthlyPayment * numPayments;
            const totalInterest = totalPaid - loanAmount;
            
            document.getElementById('mortgagePayment').textContent = '$' + monthlyPayment.toFixed(2);
            document.getElementById('loanAmountDisplay').textContent = '$' + loanAmount.toLocaleString();
            document.getElementById('totalMortgageInterest').textContent = '$' + totalInterest.toLocaleString(undefined, {maximumFractionDigits: 0});
            document.getElementById('totalMortgagePaid').textContent = '$' + totalPaid.toLocaleString(undefined, {maximumFractionDigits: 0});
            document.getElementById('downPaymentDisplay').textContent = '$' + downPayment.toLocaleString();
            document.getElementById('mortgageResult').style.display = 'block';
        }

        // TOOL 22: Tax Calculator
        function calculateTax() {
            const preTax = parseFloat(document.getElementById('preTaxAmount').value);
            const taxRate = parseFloat(document.getElementById('taxRate').value);
            
            if (isNaN(preTax) || isNaN(taxRate)) {
                alert('Please enter valid values');
                return;
            }
            
            const tax = preTax * (taxRate / 100);
            const total = preTax + tax;
            
            document.getElementById('preTaxDisplay').textContent = '$' + preTax.toFixed(2);
            document.getElementById('taxAmount').textContent = '$' + tax.toFixed(2);
            document.getElementById('totalWithTax').textContent = '$' + total.toFixed(2);
            document.getElementById('taxResult').style.display = 'block';
        }

        // TOOL 23: Grade Calculator
        function calculateGrades() {
            const gradesText = document.getElementById('gradesList').value;
            const grades = gradesText.split('\n').map(g => parseFloat(g.trim())).filter(g => !isNaN(g));
            
            if (grades.length === 0) {
                alert('Please enter at least one grade');
                return;
            }
            
            const average = grades.reduce((a, b) => a + b, 0) / grades.length;
            const highest = Math.max(...grades);
            const lowest = Math.min(...grades);
            
            let letterGrade;
            if (average >= 90) letterGrade = 'A';
            else if (average >= 80) letterGrade = 'B';
            else if (average >= 70) letterGrade = 'C';
            else if (average >= 60) letterGrade = 'D';
            else letterGrade = 'F';
            
            document.getElementById('avgGrade').textContent = average.toFixed(1);
            document.getElementById('letterGrade').textContent = letterGrade;
            document.getElementById('highestGrade').textContent = highest;
            document.getElementById('lowestGrade').textContent = lowest;
            document.getElementById('gradeResult').style.display = 'block';
        }

        // TOOL 24: Date Calculator
        function calculateDateDifference() {
            const start = new Date(document.getElementById('startDate').value);
            const end = new Date(document.getElementById('endDate').value);
            
            if (isNaN(start) || isNaN(end)) {
                alert('Please select both dates');
                return;
            }
            
            const diffTime = Math.abs(end - start);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            const diffWeeks = Math.floor(diffDays / 7);
            const diffMonths = Math.floor(diffDays / 30.44);
            const diffYears = Math.floor(diffDays / 365.25);
            
            document.getElementById('daysDiff').textContent = diffDays;
            document.getElementById('weeksDiff').textContent = diffWeeks;
            document.getElementById('monthsDiff').textContent = diffMonths;
            document.getElementById('yearsDiff').textContent = diffYears;
            document.getElementById('dateResult').style.display = 'block';
        }

        // TOOL 25: Random Number Generator
        function generateRandomNumbers() {
            const min = parseInt(document.getElementById('randomMin').value);
            const max = parseInt(document.getElementById('randomMax').value);
            const count = parseInt(document.getElementById('randomCount').value);
            
            if (isNaN(min) || isNaN(max) || isNaN(count)) {
                alert('Please enter valid values');
                return;
            }
            
            if (min >= max) {
                alert('Minimum must be less than maximum');
                return;
            }
            
            const numbers = [];
            for (let i = 0; i < count; i++) {
                numbers.push(Math.floor(Math.random() * (max - min + 1)) + min);
            }
            
            document.getElementById('randomNumbers').textContent = numbers.join(', ');
            document.getElementById('randomResult').style.display = 'block';
        }

        // TOOL 26: File Size Converter
        function convertFileSize() {
            const value = parseFloat(document.getElementById('fileSizeValue').value);
            const unit = document.getElementById('fileSizeUnit').value;
            
            if (isNaN(value) || value < 0) {
                document.getElementById('fileSizeResult').style.display = 'none';
                return;
            }
            
            // Convert to bytes first
            let bytes;
            switch(unit) {
                case 'bytes': bytes = value; break;
                case 'kb': bytes = value * 1024; break;
                case 'mb': bytes = value * 1024 * 1024; break;
                case 'gb': bytes = value * 1024 * 1024 * 1024; break;
                case 'tb': bytes = value * 1024 * 1024 * 1024 * 1024; break;
            }
            
            document.getElementById('sizeBytes').textContent = bytes.toLocaleString(undefined, {maximumFractionDigits: 0});
            document.getElementById('sizeKB').textContent = (bytes / 1024).toFixed(2);
            document.getElementById('sizeMB').textContent = (bytes / (1024 * 1024)).toFixed(2);
            document.getElementById('sizeGB').textContent = (bytes / (1024 * 1024 * 1024)).toFixed(4);
            document.getElementById('sizeTB').textContent = (bytes / (1024 * 1024 * 1024 * 1024)).toFixed(6);
            document.getElementById('fileSizeResult').style.display = 'block';
        }

        // TOOL 27: Character Counter
        function updateCharCounter() {
            const text = document.getElementById('charCounterText').value;
            const totalChars = text.length;
            const charsNoSpaces = text.replace(/\s/g, '').length;
            const letters = (text.match(/[a-zA-Z]/g) || []).length;
            const numbers = (text.match(/[0-9]/g) || []).length;
            
            document.getElementById('totalChars').textContent = totalChars;
            document.getElementById('charsNoSpaces').textContent = charsNoSpaces;
            document.getElementById('letters').textContent = letters;
            document.getElementById('numbers').textContent = numbers;
        }

        // TOOL 28: Compound Interest Calculator
        function calculateCompoundInterest() {
            const principal = parseFloat(document.getElementById('principal').value);
            const monthly = parseFloat(document.getElementById('monthly').value);
            const rate = parseFloat(document.getElementById('annualRate').value) / 100;
            const years = parseFloat(document.getElementById('timePeriod').value);
            
            if (isNaN(principal) || isNaN(monthly) || isNaN(rate) || isNaN(years)) {
                alert('Please fill in all fields');
                return;
            }
            
            const monthlyRate = rate / 12;
            const months = years * 12;
            
            // Future value of initial principal
            const fvPrincipal = principal * Math.pow(1 + monthlyRate, months);
            
            // Future value of monthly contributions
            let fvContributions = 0;
            if (monthly > 0 && monthlyRate > 0) {
                fvContributions = monthly * ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate);
            } else if (monthly > 0) {
                fvContributions = monthly * months;
            }
            
            const futureValue = fvPrincipal + fvContributions;
            const totalContributions = principal + (monthly * months);
            const interestEarned = futureValue - totalContributions;
            
            document.getElementById('futureValue').textContent = '$' + futureValue.toLocaleString(undefined, {maximumFractionDigits: 0});
            document.getElementById('totalContributions').textContent = '$' + totalContributions.toLocaleString(undefined, {maximumFractionDigits: 0});
            document.getElementById('interestEarned').textContent = '$' + interestEarned.toLocaleString(undefined, {maximumFractionDigits: 0});
            document.getElementById('compoundResult').style.display = 'block';
        }

        // Favicon Generator Functions
        function generateFaviconPreview() {
            const canvas = document.getElementById('faviconCanvas');
            const ctx = canvas.getContext('2d');
            const text = document.getElementById('faviconText').value || 'TD';
            const fontSize = parseInt(document.getElementById('faviconFontSize').value);
            const bgColor = document.getElementById('faviconBgColor').value;
            const textColor = document.getElementById('faviconTextColor').value;
            const radius = parseInt(document.getElementById('faviconRadius').value);
            const fontWeight = document.getElementById('faviconFontWeight').value;
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw rounded rectangle background
            ctx.fillStyle = bgColor;
            ctx.beginPath();
            ctx.roundRect(0, 0, canvas.width, canvas.height, radius);
            ctx.fill();
            
            // Draw text
            ctx.fillStyle = textColor;
            ctx.font = `${fontWeight} ${fontSize}px Arial, sans-serif`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(text.toUpperCase(), canvas.width / 2, canvas.height / 2);
        }

        function downloadFavicon(size) {
            const canvas = document.getElementById('faviconCanvas');
            const text = document.getElementById('faviconText').value || 'TD';
            const fontSize = parseInt(document.getElementById('faviconFontSize').value);
            const bgColor = document.getElementById('faviconBgColor').value;
            const textColor = document.getElementById('faviconTextColor').value;
            const radius = parseInt(document.getElementById('faviconRadius').value);
            const fontWeight = document.getElementById('faviconFontWeight').value;
            
            // Create temporary canvas at desired size
            const tempCanvas = document.createElement('canvas');
            tempCanvas.width = size;
            tempCanvas.height = size;
            const ctx = tempCanvas.getContext('2d');
            
            // Scale factor
            const scale = size / 256;
            
            // Draw rounded rectangle background
            ctx.fillStyle = bgColor;
            ctx.beginPath();
            ctx.roundRect(0, 0, size, size, radius * scale);
            ctx.fill();
            
            // Draw text
            ctx.fillStyle = textColor;
            ctx.font = `${fontWeight} ${fontSize * scale}px Arial, sans-serif`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(text.toUpperCase(), size / 2, size / 2);
            
            // Download
            const link = document.createElement('a');
            const filename = size === 180 ? 'apple-touch-icon.png' : `favicon-${size}x${size}.png`;
            link.download = filename;
            link.href = tempCanvas.toDataURL('image/png');
            link.click();
        }

        // Try Example Functions (Boost Engagement!)
        function tryWordCounter() {
            const exampleText = "Welcome to ToolDexo! This is an example text to show how the word counter works. You can type or paste any text here to count words, characters, sentences, and paragraphs. It's completely free and works instantly in your browser!";
            document.getElementById('wordCountText').value = exampleText;
            updateWordCount();
            
            // Track engagement
            if (typeof gtag !== 'undefined') {
                gtag('event', 'try_example', {
                    'event_category': 'engagement',
                    'event_label': 'word_counter'
                });
            }
        }
        
        function tryBMI() {
            document.getElementById('bmiHeight').value = '170';
            document.getElementById('bmiWeight').value = '70';
            calculateBMI();
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'try_example', {
                    'event_category': 'engagement',
                    'event_label': 'bmi_calculator'
                });
            }
        }
        
        function tryCurrency() {
            document.getElementById('currencyAmount').value = '100';
            document.getElementById('fromCurrency').value = 'USD';
            document.getElementById('toCurrency').value = 'EUR';
            convertCurrency();
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'try_example', {
                    'event_category': 'engagement',
                    'event_label': 'currency_converter'
                });
            }
        }
        
        // ========================================
        // NEW TOOL FUNCTIONS - SALARY, HASH, BODY FAT
        // ========================================
        
        // NEW TOOL 30: Salary Calculator
        function calculateSalary() {
            const amount = parseFloat(document.getElementById('salaryAmount').value);
            const period = document.getElementById('salaryPeriod').value;
            const hoursPerWeek = parseFloat(document.getElementById('hoursPerWeek').value) || 40;
            
            if (isNaN(amount) || amount <= 0) {
                alert('Please enter a valid salary amount');
                return;
            }
            
            const hoursPerYear = hoursPerWeek * 52;
            const daysPerYear = 260; // Standard work days
            const weeksPerYear = 52;
            const monthsPerYear = 12;
            
            let hourly, daily, weekly, monthly, yearly;
            
            switch(period) {
                case 'hourly':
                    hourly = amount;
                    daily = hourly * (hoursPerWeek / 5);
                    weekly = hourly * hoursPerWeek;
                    monthly = (hourly * hoursPerYear) / monthsPerYear;
                    yearly = hourly * hoursPerYear;
                    break;
                case 'daily':
                    daily = amount;
                    hourly = daily / (hoursPerWeek / 5);
                    weekly = daily * 5;
                    monthly = (daily * daysPerYear) / monthsPerYear;
                    yearly = daily * daysPerYear;
                    break;
                case 'weekly':
                    weekly = amount;
                    hourly = weekly / hoursPerWeek;
                    daily = weekly / 5;
                    monthly = (weekly * weeksPerYear) / monthsPerYear;
                    yearly = weekly * weeksPerYear;
                    break;
                case 'monthly':
                    monthly = amount;
                    yearly = monthly * monthsPerYear;
                    hourly = yearly / hoursPerYear;
                    daily = yearly / daysPerYear;
                    weekly = yearly / weeksPerYear;
                    break;
                case 'yearly':
                default:
                    yearly = amount;
                    hourly = yearly / hoursPerYear;
                    daily = yearly / daysPerYear;
                    weekly = yearly / weeksPerYear;
                    monthly = yearly / monthsPerYear;
            }
            
            document.getElementById('salaryHourly').textContent = '$' + hourly.toFixed(2);
            document.getElementById('salaryDaily').textContent = '$' + daily.toFixed(2);
            document.getElementById('salaryWeekly').textContent = '$' + weekly.toFixed(2);
            document.getElementById('salaryMonthly').textContent = '$' + monthly.toFixed(2);
            document.getElementById('salaryYearly').textContent = '$' + yearly.toFixed(2);
            document.getElementById('salaryResult').style.display = 'block';
            
            saveToHistory('Salary Calculator', `${amount} ${period}`, `$${yearly.toFixed(2)}/year`);
            document.getElementById('salary-calculator-related').innerHTML = showRelatedTools('salary-calculator');
            document.getElementById('salary-calculator-related').style.display = 'block';
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'calculate', {
                    'event_category': 'tool_usage',
                    'tool_name': 'salary_calculator'
                });
            }
        }
        
        function trySalary() {
            document.getElementById('salaryAmount').value = '50000';
            document.getElementById('salaryPeriod').value = 'yearly';
            document.getElementById('hoursPerWeek').value = '40';
            calculateSalary();
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'try_example', {
                    'event_category': 'engagement',
                    'event_label': 'salary_calculator'
                });
            }
        }
        
        // NEW TOOL 31: Hash Generator
        async function generateHashes() {
            const text = document.getElementById('hashInput').value;
            
            if (!text) {
                alert('Please enter text to hash');
                return;
            }
            
            const encoder = new TextEncoder();
            const data = encoder.encode(text);
            
            // MD5 (using simple implementation)
            const md5Hash = await simpleMD5(text);
            document.getElementById('hashMD5').textContent = md5Hash;
            
            // SHA-1
            const sha1Buffer = await crypto.subtle.digest('SHA-1', data);
            document.getElementById('hashSHA1').textContent = bufferToHex(sha1Buffer);
            
            // SHA-256
            const sha256Buffer = await crypto.subtle.digest('SHA-256', data);
            document.getElementById('hashSHA256').textContent = bufferToHex(sha256Buffer);
            
            // SHA-512
            const sha512Buffer = await crypto.subtle.digest('SHA-512', data);
            document.getElementById('hashSHA512').textContent = bufferToHex(sha512Buffer);
            
            document.getElementById('hashResult').style.display = 'block';
            
            saveToHistory('Hash Generator', text.substring(0, 30) + '...', 'Generated 4 hashes');
            document.getElementById('hash-generator-related').innerHTML = showRelatedTools('hash-generator');
            document.getElementById('hash-generator-related').style.display = 'block';
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'generate', {
                    'event_category': 'tool_usage',
                    'tool_name': 'hash_generator'
                });
            }
        }
        
        function bufferToHex(buffer) {
            return Array.from(new Uint8Array(buffer))
                .map(b => b.toString(16).padStart(2, '0'))
                .join('');
        }
        
        async function simpleMD5(string) {
            // Simple MD5 implementation for web
            const rotateLeft = (lValue, iShiftBits) => (lValue << iShiftBits) | (lValue >>> (32 - iShiftBits));
            const addUnsigned = (lX, lY) => {
                const lX8 = (lX & 0x80000000);
                const lY8 = (lY & 0x80000000);
                const lX4 = (lX & 0x40000000);
                const lY4 = (lY & 0x40000000);
                const lResult = (lX & 0x3FFFFFFF) + (lY & 0x3FFFFFFF);
                if (lX4 & lY4) return (lResult ^ 0x80000000 ^ lX8 ^ lY8);
                if (lX4 | lY4) {
                    if (lResult & 0x40000000) return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);
                    else return (lResult ^ 0x40000000 ^ lX8 ^ lY8);
                } else return (lResult ^ lX8 ^ lY8);
            };
            
            const F = (x, y, z) => (x & y) | ((~x) & z);
            const G = (x, y, z) => (x & z) | (y & (~z));
            const H = (x, y, z) => (x ^ y ^ z);
            const I = (x, y, z) => (y ^ (x | (~z)));
            
            const FF = (a, b, c, d, x, s, ac) => {
                a = addUnsigned(a, addUnsigned(addUnsigned(F(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            };
            
            const GG = (a, b, c, d, x, s, ac) => {
                a = addUnsigned(a, addUnsigned(addUnsigned(G(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            };
            
            const HH = (a, b, c, d, x, s, ac) => {
                a = addUnsigned(a, addUnsigned(addUnsigned(H(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            };
            
            const II = (a, b, c, d, x, s, ac) => {
                a = addUnsigned(a, addUnsigned(addUnsigned(I(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            };
            
            const convertToWordArray = (string) => {
                let lWordCount;
                const lMessageLength = string.length;
                const lNumberOfWords_temp1 = lMessageLength + 8;
                const lNumberOfWords_temp2 = (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64;
                const lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16;
                const lWordArray = Array(lNumberOfWords - 1);
                let lBytePosition = 0;
                let lByteCount = 0;
                while (lByteCount < lMessageLength) {
                    lWordCount = (lByteCount - (lByteCount % 4)) / 4;
                    lBytePosition = (lByteCount % 4) * 8;
                    lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount) << lBytePosition));
                    lByteCount++;
                }
                lWordCount = (lByteCount - (lByteCount % 4)) / 4;
                lBytePosition = (lByteCount % 4) * 8;
                lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition);
                lWordArray[lNumberOfWords - 2] = lMessageLength << 3;
                lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;
                return lWordArray;
            };
            
            const wordToHex = (lValue) => {
                let wordToHexValue = "", wordToHexValue_temp = "", lByte, lCount;
                for (lCount = 0; lCount <= 3; lCount++) {
                    lByte = (lValue >>> (lCount * 8)) & 255;
                    wordToHexValue_temp = "0" + lByte.toString(16);
                    wordToHexValue = wordToHexValue + wordToHexValue_temp.substr(wordToHexValue_temp.length - 2, 2);
                }
                return wordToHexValue;
            };
            
            let x = convertToWordArray(string);
            let a = 0x67452301, b = 0xEFCDAB89, c = 0x98BADCFE, d = 0x10325476;
            
            for (let k = 0; k < x.length; k += 16) {
                const AA = a, BB = b, CC = c, DD = d;
                a = FF(a, b, c, d, x[k + 0], 7, 0xD76AA478);
                d = FF(d, a, b, c, x[k + 1], 12, 0xE8C7B756);
                c = FF(c, d, a, b, x[k + 2], 17, 0x242070DB);
                b = FF(b, c, d, a, x[k + 3], 22, 0xC1BDCEEE);
                a = FF(a, b, c, d, x[k + 4], 7, 0xF57C0FAF);
                d = FF(d, a, b, c, x[k + 5], 12, 0x4787C62A);
                c = FF(c, d, a, b, x[k + 6], 17, 0xA8304613);
                b = FF(b, c, d, a, x[k + 7], 22, 0xFD469501);
                a = FF(a, b, c, d, x[k + 8], 7, 0x698098D8);
                d = FF(d, a, b, c, x[k + 9], 12, 0x8B44F7AF);
                c = FF(c, d, a, b, x[k + 10], 17, 0xFFFF5BB1);
                b = FF(b, c, d, a, x[k + 11], 22, 0x895CD7BE);
                a = FF(a, b, c, d, x[k + 12], 7, 0x6B901122);
                d = FF(d, a, b, c, x[k + 13], 12, 0xFD987193);
                c = FF(c, d, a, b, x[k + 14], 17, 0xA679438E);
                b = FF(b, c, d, a, x[k + 15], 22, 0x49B40821);
                a = GG(a, b, c, d, x[k + 1], 5, 0xF61E2562);
                d = GG(d, a, b, c, x[k + 6], 9, 0xC040B340);
                c = GG(c, d, a, b, x[k + 11], 14, 0x265E5A51);
                b = GG(b, c, d, a, x[k + 0], 20, 0xE9B6C7AA);
                a = GG(a, b, c, d, x[k + 5], 5, 0xD62F105D);
                d = GG(d, a, b, c, x[k + 10], 9, 0x2441453);
                c = GG(c, d, a, b, x[k + 15], 14, 0xD8A1E681);
                b = GG(b, c, d, a, x[k + 4], 20, 0xE7D3FBC8);
                a = GG(a, b, c, d, x[k + 9], 5, 0x21E1CDE6);
                d = GG(d, a, b, c, x[k + 14], 9, 0xC33707D6);
                c = GG(c, d, a, b, x[k + 3], 14, 0xF4D50D87);
                b = GG(b, c, d, a, x[k + 8], 20, 0x455A14ED);
                a = GG(a, b, c, d, x[k + 13], 5, 0xA9E3E905);
                d = GG(d, a, b, c, x[k + 2], 9, 0xFCEFA3F8);
                c = GG(c, d, a, b, x[k + 7], 14, 0x676F02D9);
                b = GG(b, c, d, a, x[k + 12], 20, 0x8D2A4C8A);
                a = HH(a, b, c, d, x[k + 5], 4, 0xFFFA3942);
                d = HH(d, a, b, c, x[k + 8], 11, 0x8771F681);
                c = HH(c, d, a, b, x[k + 11], 16, 0x6D9D6122);
                b = HH(b, c, d, a, x[k + 14], 23, 0xFDE5380C);
                a = HH(a, b, c, d, x[k + 1], 4, 0xA4BEEA44);
                d = HH(d, a, b, c, x[k + 4], 11, 0x4BDECFA9);
                c = HH(c, d, a, b, x[k + 7], 16, 0xF6BB4B60);
                b = HH(b, c, d, a, x[k + 10], 23, 0xBEBFBC70);
                a = HH(a, b, c, d, x[k + 13], 4, 0x289B7EC6);
                d = HH(d, a, b, c, x[k + 0], 11, 0xEAA127FA);
                c = HH(c, d, a, b, x[k + 3], 16, 0xD4EF3085);
                b = HH(b, c, d, a, x[k + 6], 23, 0x4881D05);
                a = HH(a, b, c, d, x[k + 9], 4, 0xD9D4D039);
                d = HH(d, a, b, c, x[k + 12], 11, 0xE6DB99E5);
                c = HH(c, d, a, b, x[k + 15], 16, 0x1FA27CF8);
                b = HH(b, c, d, a, x[k + 2], 23, 0xC4AC5665);
                a = II(a, b, c, d, x[k + 0], 6, 0xF4292244);
                d = II(d, a, b, c, x[k + 7], 10, 0x432AFF97);
                c = II(c, d, a, b, x[k + 14], 15, 0xAB9423A7);
                b = II(b, c, d, a, x[k + 5], 21, 0xFC93A039);
                a = II(a, b, c, d, x[k + 12], 6, 0x655B59C3);
                d = II(d, a, b, c, x[k + 3], 10, 0x8F0CCC92);
                c = II(c, d, a, b, x[k + 10], 15, 0xFFEFF47D);
                b = II(b, c, d, a, x[k + 1], 21, 0x85845DD1);
                a = II(a, b, c, d, x[k + 8], 6, 0x6FA87E4F);
                d = II(d, a, b, c, x[k + 15], 10, 0xFE2CE6E0);
                c = II(c, d, a, b, x[k + 6], 15, 0xA3014314);
                b = II(b, c, d, a, x[k + 13], 21, 0x4E0811A1);
                a = II(a, b, c, d, x[k + 4], 6, 0xF7537E82);
                d = II(d, a, b, c, x[k + 11], 10, 0xBD3AF235);
                c = II(c, d, a, b, x[k + 2], 15, 0x2AD7D2BB);
                b = II(b, c, d, a, x[k + 9], 21, 0xEB86D391);
                a = addUnsigned(a, AA);
                b = addUnsigned(b, BB);
                c = addUnsigned(c, CC);
                d = addUnsigned(d, DD);
            }
            
            return (wordToHex(a) + wordToHex(b) + wordToHex(c) + wordToHex(d)).toLowerCase();
        }
        
        function tryHash() {
            document.getElementById('hashInput').value = 'Hello, ToolDexo!';
            generateHashes();
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'try_example', {
                    'event_category': 'engagement',
                    'event_label': 'hash_generator'
                });
            }
        }
        
        // NEW TOOL 32: Body Fat Calculator
        function toggleBodyFatInputs() {
            const gender = document.getElementById('bfGender').value;
            const hipContainer = document.getElementById('bfHipContainer');
            
            if (gender === 'female') {
                hipContainer.style.display = 'block';
            } else {
                hipContainer.style.display = 'none';
            }
        }
        
        function calculateBodyFat() {
            const gender = document.getElementById('bfGender').value;
            const height = parseFloat(document.getElementById('bfHeight').value);
            const weight = parseFloat(document.getElementById('bfWeight').value);
            const neck = parseFloat(document.getElementById('bfNeck').value);
            const waist = parseFloat(document.getElementById('bfWaist').value);
            const hip = gender === 'female' ? parseFloat(document.getElementById('bfHip').value) : 0;
            
            if (isNaN(height) || isNaN(weight) || isNaN(neck) || isNaN(waist)) {
                alert('Please enter all required measurements');
                return;
            }
            
            if (gender === 'female' && isNaN(hip)) {
                alert('Please enter hip measurement for female calculation');
                return;
            }
            
            let bodyFat;
            
            // US Navy Method
            if (gender === 'male') {
                bodyFat = 495 / (1.0324 - 0.19077 * Math.log10(waist - neck) + 0.15456 * Math.log10(height)) - 450;
            } else {
                bodyFat = 495 / (1.29579 - 0.35004 * Math.log10(waist + hip - neck) + 0.22100 * Math.log10(height)) - 450;
            }
            
            let category, advice;
            
            if (gender === 'male') {
                if (bodyFat < 6) {
                    category = 'Essential Fat';
                    advice = 'This is very low. Essential fat only. Consult healthcare provider.';
                } else if (bodyFat < 14) {
                    category = 'Athletes';
                    advice = 'Athletic body composition. Great for performance!';
                } else if (bodyFat < 18) {
                    category = 'Fitness';
                    advice = 'Fit and healthy body composition. Keep it up!';
                } else if (bodyFat < 25) {
                    category = 'Average';
                    advice = 'Average body composition. Room for improvement with exercise and nutrition.';
                } else {
                    category = 'Obese';
                    advice = 'Consider consulting healthcare provider for personalized guidance.';
                }
            } else {
                if (bodyFat < 14) {
                    category = 'Essential Fat';
                    advice = 'This is very low. Essential fat only. Consult healthcare provider.';
                } else if (bodyFat < 21) {
                    category = 'Athletes';
                    advice = 'Athletic body composition. Great for performance!';
                } else if (bodyFat < 25) {
                    category = 'Fitness';
                    advice = 'Fit and healthy body composition. Keep it up!';
                } else if (bodyFat < 32) {
                    category = 'Average';
                    advice = 'Average body composition. Room for improvement with exercise and nutrition.';
                } else {
                    category = 'Obese';
                    advice = 'Consider consulting healthcare provider for personalized guidance.';
                }
            }
            
            document.getElementById('bodyFatValue').textContent = bodyFat.toFixed(1) + '%';
            document.getElementById('bodyFatCategory').textContent = category;
            document.getElementById('bodyFatAdvice').textContent = advice;
            document.getElementById('bodyFatResult').style.display = 'block';
            
            saveToHistory('Body Fat Calculator', `${gender}, ${height}cm, ${weight}kg`, `${bodyFat.toFixed(1)}% (${category})`);
            document.getElementById('bodyfat-calculator-related').innerHTML = showRelatedTools('bodyfat-calculator');
            document.getElementById('bodyfat-calculator-related').style.display = 'block';
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'calculate', {
                    'event_category': 'tool_usage',
                    'tool_name': 'bodyfat_calculator'
                });
            }
        }
        
        function tryBodyFat() {
            document.getElementById('bfGender').value = 'male';
            document.getElementById('bfHeight').value = '175';
            document.getElementById('bfWeight').value = '75';
            document.getElementById('bfNeck').value = '38';
            document.getElementById('bfWaist').value = '85';
            toggleBodyFatInputs();
            calculateBodyFat();
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'try_example', {
                    'event_category': 'engagement',
                    'event_label': 'bodyfat_calculator'
                });
            }
        }

        // Generate initial preview
        window.addEventListener('load', function() {
            if (document.getElementById('faviconCanvas')) {
                generateFaviconPreview();
            }
        });


        // Initialize on page load
        window.addEventListener('DOMContentLoaded', function() {
            // Show first tool by default
            showTool('word-counter');
            
            // Set default source time for timezone converter
            const nowString = new Date().toISOString().slice(0, 16);
            const sourceTimeEl = document.getElementById('sourceTime');
            if (sourceTimeEl) {
                sourceTimeEl.value = nowString;
            }
            
            // Set default dates for date calculator
            const today = new Date().toISOString().slice(0, 10);
            const startDateEl = document.getElementById('startDate');
            const endDateEl = document.getElementById('endDate');
            if (startDateEl) startDateEl.value = today;
            if (endDateEl) {
                const nextWeek = new Date();
                nextWeek.setDate(nextWeek.getDate() + 7);
                endDateEl.value = nextWeek.toISOString().slice(0, 10);
            }
        });
    </script>
    
    <!-- Immediate initialization script as fallback -->
    <script>
        // Run immediately when this script tag is parsed
        console.log('Immediate script running...');
        if (typeof populateToolButtons === 'function') {
            setTimeout(function() {
                const container = document.getElementById('toolButtons');
                if (container && container.children.length === 0) {
                    console.log('Running immediate populateToolButtons...');
                    populateToolButtons();
                }
            }, 500);
        }
    </script>
    
    <!-- History Toggle Button -->
    <button class="history-toggle" onclick="toggleHistory()">
        üìú History
    </button>
    
    <!-- History Sidebar Panel -->
    <div id="historyPanel" class="history-panel">
        <div class="history-header">
            <h3 style="margin: 0;">üìú Recent Calculations</h3>
            <button onclick="toggleHistory()" style="background: none; border: none; color: white; font-size: 24px; cursor: pointer; padding: 0;">&times;</button>
        </div>
        <div id="historyContent" style="padding: 10px 0;">
            <div style="padding: 20px; text-align: center; color: #718096;">
                No calculations yet. Start using tools!
            </div>
        </div>
        <div style="padding: 15px 20px; border-top: 2px solid #e2e8f0;">
            <button onclick="clearHistory()" style="width: 100%; padding: 10px; background: #fc8181; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">
                üóëÔ∏è Clear History
            </button>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>
    
    <footer style="background: #2d3748; color: white; text-align: center; padding: 30px 20px; margin-top: 60px;">
        <p style="margin-bottom: 10px;">&copy; 2024 ToolDexo. All rights reserved.</p>
        <p style="font-size: 0.9em;">
            <a href="/privacy-policy.html" style="color: #90cdf4; text-decoration: none;">Privacy Policy</a>
        </p>
    </footer>
</body>
</html>